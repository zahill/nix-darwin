"use strict";var wu=Object.create;var Tr=Object.defineProperty;var Ru=Object.getOwnPropertyDescriptor;var Tu=Object.getOwnPropertyNames;var Eu=Object.getPrototypeOf,Cu=Object.prototype.hasOwnProperty;var It=(n,r)=>()=>(n&&(r=n(n=0)),r);var A=(n,r)=>()=>(r||n((r={exports:{}}).exports,r),r.exports),Ri=(n,r)=>{for(var o in r)Tr(n,o,{get:r[o],enumerable:!0})},Ti=(n,r,o,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of Tu(r))!Cu.call(n,a)&&a!==o&&Tr(n,a,{get:()=>r[a],enumerable:!(i=Ru(r,a))||i.enumerable});return n};var ce=(n,r,o)=>(o=n!=null?wu(Eu(n)):{},Ti(r||!n||!n.__esModule?Tr(o,"default",{value:n,enumerable:!0}):o,n)),Pu=n=>Ti(Tr({},"__esModule",{value:!0}),n);var Pi=A((Er,Ci)=>{(function(n,r){typeof Er=="object"&&typeof Ci<"u"?r(Er):typeof define=="function"&&define.amd?define(["exports"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.WebStreamsPolyfill={}))})(Er,function(n){"use strict";let r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function o(){}function i(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let a=i();function u(e){return typeof e=="object"&&e!==null||typeof e=="function"}let f=o,p=Promise,m=Promise.prototype.then,b=Promise.resolve.bind(p),w=Promise.reject.bind(p);function T(e){return new p(e)}function S(e){return b(e)}function g(e){return w(e)}function y(e,t,s){return m.call(e,t,s)}function C(e,t,s){y(y(e,t,s),void 0,f)}function P(e,t){C(e,t)}function v(e,t){C(e,void 0,t)}function W(e,t,s){return y(e,t,s)}function U(e){y(e,void 0,f)}let B=(()=>{let e=a&&a.queueMicrotask;if(typeof e=="function")return e;let t=S(void 0);return s=>y(t,s)})();function z(e,t,s){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,s)}function x(e,t,s){try{return S(z(e,t,s))}catch(l){return g(l)}}let ne=16384;class Y{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(t){let s=this._back,l=s;s._elements.length===ne-1&&(l={_elements:[],_next:void 0}),s._elements.push(t),l!==s&&(this._back=l,s._next=l),++this._size}shift(){let t=this._front,s=t,l=this._cursor,c=l+1,d=t._elements,h=d[l];return c===ne&&(s=t._next,c=0),--this._size,this._cursor=c,t!==s&&(this._front=s),d[l]=void 0,h}forEach(t){let s=this._cursor,l=this._front,c=l._elements;for(;(s!==c.length||l._next!==void 0)&&!(s===c.length&&(l=l._next,c=l._elements,s=0,c.length===0));)t(c[s]),++s}peek(){let t=this._front,s=this._cursor;return t._elements[s]}}function so(e,t){e._ownerReadableStream=t,t._reader=e,t._state==="readable"?Xr(e):t._state==="closed"?Ka(e):ao(e,t._storedError)}function Kr(e,t){let s=e._ownerReadableStream;return se(s,t)}function pe(e){e._ownerReadableStream._state==="readable"?Zr(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):Xa(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function Ve(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Xr(e){e._closedPromise=T((t,s)=>{e._closedPromise_resolve=t,e._closedPromise_reject=s})}function ao(e,t){Xr(e),Zr(e,t)}function Ka(e){Xr(e),lo(e)}function Zr(e,t){e._closedPromise_reject!==void 0&&(U(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function Xa(e,t){ao(e,t)}function lo(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let uo=r("[[AbortSteps]]"),co=r("[[ErrorSteps]]"),Jr=r("[[CancelSteps]]"),en=r("[[PullSteps]]"),fo=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},Za=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function Ja(e){return typeof e=="object"||typeof e=="function"}function be(e,t){if(e!==void 0&&!Ja(e))throw new TypeError(`${t} is not an object.`)}function oe(e,t){if(typeof e!="function")throw new TypeError(`${t} is not a function.`)}function el(e){return typeof e=="object"&&e!==null||typeof e=="function"}function ho(e,t){if(!el(e))throw new TypeError(`${t} is not an object.`)}function ye(e,t,s){if(e===void 0)throw new TypeError(`Parameter ${t} is required in '${s}'.`)}function tn(e,t,s){if(e===void 0)throw new TypeError(`${t} is required in '${s}'.`)}function rn(e){return Number(e)}function mo(e){return e===0?0:e}function tl(e){return mo(Za(e))}function po(e,t){let l=Number.MAX_SAFE_INTEGER,c=Number(e);if(c=mo(c),!fo(c))throw new TypeError(`${t} is not a finite number`);if(c=tl(c),c<0||c>l)throw new TypeError(`${t} is outside the accepted range of 0 to ${l}, inclusive`);return!fo(c)||c===0?0:c}function nn(e,t){if(!Ae(e))throw new TypeError(`${t} is not a ReadableStream.`)}function Ye(e){return new bt(e)}function bo(e,t){e._reader._readRequests.push(t)}function on(e,t,s){let c=e._reader._readRequests.shift();s?c._closeSteps():c._chunkSteps(t)}function Ht(e){return e._reader._readRequests.length}function yo(e){let t=e._reader;return!(t===void 0||!Te(t))}class bt{constructor(t){if(ye(t,1,"ReadableStreamDefaultReader"),nn(t,"First parameter"),ve(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");so(this,t),this._readRequests=new Y}get closed(){return Te(this)?this._closedPromise:g(Gt("closed"))}cancel(t=void 0){return Te(this)?this._ownerReadableStream===void 0?g(Ve("cancel")):Kr(this,t):g(Gt("cancel"))}read(){if(!Te(this))return g(Gt("read"));if(this._ownerReadableStream===void 0)return g(Ve("read from"));let t,s,l=T((d,h)=>{t=d,s=h});return yt(this,{_chunkSteps:d=>t({value:d,done:!1}),_closeSteps:()=>t({value:void 0,done:!0}),_errorSteps:d=>s(d)}),l}releaseLock(){if(!Te(this))throw Gt("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");pe(this)}}}Object.defineProperties(bt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(bt.prototype,r.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Te(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests")?!1:e instanceof bt}function yt(e,t){let s=e._ownerReadableStream;s._disturbed=!0,s._state==="closed"?t._closeSteps():s._state==="errored"?t._errorSteps(s._storedError):s._readableStreamController[en](t)}function Gt(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}let go=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class So{constructor(t,s){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=s}next(){let t=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?W(this._ongoingPromise,t,t):t(),this._ongoingPromise}return(t){let s=()=>this._returnSteps(t);return this._ongoingPromise?W(this._ongoingPromise,s,s):s()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let t=this._reader;if(t._ownerReadableStream===void 0)return g(Ve("iterate"));let s,l,c=T((h,_)=>{s=h,l=_});return yt(t,{_chunkSteps:h=>{this._ongoingPromise=void 0,B(()=>s({value:h,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,pe(t),s({value:void 0,done:!0})},_errorSteps:h=>{this._ongoingPromise=void 0,this._isFinished=!0,pe(t),l(h)}}),c}_returnSteps(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;let s=this._reader;if(s._ownerReadableStream===void 0)return g(Ve("finish iterating"));if(!this._preventCancel){let l=Kr(s,t);return pe(s),W(l,()=>({value:t,done:!0}))}return pe(s),S({value:t,done:!0})}}let _o={next(){return wo(this)?this._asyncIteratorImpl.next():g(Ro("next"))},return(e){return wo(this)?this._asyncIteratorImpl.return(e):g(Ro("return"))}};go!==void 0&&Object.setPrototypeOf(_o,go);function rl(e,t){let s=Ye(e),l=new So(s,t),c=Object.create(_o);return c._asyncIteratorImpl=l,c}function wo(e){if(!u(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof So}catch{return!1}}function Ro(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}let To=Number.isNaN||function(e){return e!==e};function gt(e){return e.slice()}function Eo(e,t,s,l,c){new Uint8Array(e).set(new Uint8Array(s,l,c),t)}function Kf(e){return e}function Vt(e){return!1}function Co(e,t,s){if(e.slice)return e.slice(t,s);let l=s-t,c=new ArrayBuffer(l);return Eo(c,0,e,t,l),c}function nl(e){return!(typeof e!="number"||To(e)||e<0)}function Po(e){let t=Co(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function sn(e){let t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function an(e,t,s){if(!nl(s)||s===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:s}),e._queueTotalSize+=s}function ol(e){return e._queue.peek().value}function Ee(e){e._queue=new Y,e._queueTotalSize=0}class St{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!ln(this))throw dn("view");return this._view}respond(t){if(!ln(this))throw dn("respond");if(ye(t,1,"respond"),t=po(t,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Vt(this._view.buffer),Zt(this._associatedReadableByteStreamController,t)}respondWithNewView(t){if(!ln(this))throw dn("respondWithNewView");if(ye(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Vt(t.buffer),Jt(this._associatedReadableByteStreamController,t)}}Object.defineProperties(St.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(St.prototype,r.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Qe{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Oe(this))throw wt("byobRequest");return fn(this)}get desiredSize(){if(!Oe(this))throw wt("desiredSize");return qo(this)}close(){if(!Oe(this))throw wt("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let t=this._controlledReadableByteStream._state;if(t!=="readable")throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be closed`);_t(this)}enqueue(t){if(!Oe(this))throw wt("enqueue");if(ye(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(t.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(t.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let s=this._controlledReadableByteStream._state;if(s!=="readable")throw new TypeError(`The stream (in ${s} state) is not in the readable state and cannot be enqueued to`);Xt(this,t)}error(t=void 0){if(!Oe(this))throw wt("error");ie(this,t)}[Jr](t){Ao(this),Ee(this);let s=this._cancelAlgorithm(t);return Kt(this),s}[en](t){let s=this._controlledReadableByteStream;if(this._queueTotalSize>0){let c=this._queue.shift();this._queueTotalSize-=c.byteLength,Io(this);let d=new Uint8Array(c.buffer,c.byteOffset,c.byteLength);t._chunkSteps(d);return}let l=this._autoAllocateChunkSize;if(l!==void 0){let c;try{c=new ArrayBuffer(l)}catch(h){t._errorSteps(h);return}let d={buffer:c,bufferByteLength:l,byteOffset:0,byteLength:l,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(d)}bo(s,t),qe(this)}}Object.defineProperties(Qe.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Qe.prototype,r.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Oe(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")?!1:e instanceof Qe}function ln(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")?!1:e instanceof St}function qe(e){if(!ll(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let s=e._pullAlgorithm();C(s,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,qe(e))},l=>{ie(e,l)})}function Ao(e){cn(e),e._pendingPullIntos=new Y}function un(e,t){let s=!1;e._state==="closed"&&(s=!0);let l=vo(t);t.readerType==="default"?on(e,l,s):fl(e,l,s)}function vo(e){let t=e.bytesFilled,s=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/s)}function Yt(e,t,s,l){e._queue.push({buffer:t,byteOffset:s,byteLength:l}),e._queueTotalSize+=l}function ko(e,t){let s=t.elementSize,l=t.bytesFilled-t.bytesFilled%s,c=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),d=t.bytesFilled+c,h=d-d%s,_=c,E=!1;h>l&&(_=h-t.bytesFilled,E=!0);let I=e._queue;for(;_>0;){let O=I.peek(),q=Math.min(_,O.byteLength),$=t.byteOffset+t.bytesFilled;Eo(t.buffer,$,O.buffer,O.byteOffset,q),O.byteLength===q?I.shift():(O.byteOffset+=q,O.byteLength-=q),e._queueTotalSize-=q,Bo(e,q,t),_-=q}return E}function Bo(e,t,s){s.bytesFilled+=t}function Io(e){e._queueTotalSize===0&&e._closeRequested?(Kt(e),kt(e._controlledReadableByteStream)):qe(e)}function cn(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function xo(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let t=e._pendingPullIntos.peek();ko(e,t)&&(Qt(e),un(e._controlledReadableByteStream,t))}}function il(e,t,s){let l=e._controlledReadableByteStream,c=1;t.constructor!==DataView&&(c=t.constructor.BYTES_PER_ELEMENT);let d=t.constructor,h=t.buffer,_={buffer:h,bufferByteLength:h.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:c,viewConstructor:d,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(_),Lo(l,s);return}if(l._state==="closed"){let E=new d(_.buffer,_.byteOffset,0);s._closeSteps(E);return}if(e._queueTotalSize>0){if(ko(e,_)){let E=vo(_);Io(e),s._chunkSteps(E);return}if(e._closeRequested){let E=new TypeError("Insufficient bytes to fill elements in the given buffer");ie(e,E),s._errorSteps(E);return}}e._pendingPullIntos.push(_),Lo(l,s),qe(e)}function sl(e,t){let s=e._controlledReadableByteStream;if(hn(s))for(;Fo(s)>0;){let l=Qt(e);un(s,l)}}function al(e,t,s){if(Bo(e,t,s),s.bytesFilled<s.elementSize)return;Qt(e);let l=s.bytesFilled%s.elementSize;if(l>0){let c=s.byteOffset+s.bytesFilled,d=Co(s.buffer,c-l,c);Yt(e,d,0,d.byteLength)}s.bytesFilled-=l,un(e._controlledReadableByteStream,s),xo(e)}function Oo(e,t){let s=e._pendingPullIntos.peek();cn(e),e._controlledReadableByteStream._state==="closed"?sl(e):al(e,t,s),qe(e)}function Qt(e){return e._pendingPullIntos.shift()}function ll(e){let t=e._controlledReadableByteStream;return t._state!=="readable"||e._closeRequested||!e._started?!1:!!(yo(t)&&Ht(t)>0||hn(t)&&Fo(t)>0||qo(e)>0)}function Kt(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function _t(e){let t=e._controlledReadableByteStream;if(!(e._closeRequested||t._state!=="readable")){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let l=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ie(e,l),l}Kt(e),kt(t)}}function Xt(e,t){let s=e._controlledReadableByteStream;if(e._closeRequested||s._state!=="readable")return;let l=t.buffer,c=t.byteOffset,d=t.byteLength,h=l;if(e._pendingPullIntos.length>0){let _=e._pendingPullIntos.peek();Vt(_.buffer),_.buffer=_.buffer}if(cn(e),yo(s))if(Ht(s)===0)Yt(e,h,c,d);else{e._pendingPullIntos.length>0&&Qt(e);let _=new Uint8Array(h,c,d);on(s,_,!1)}else hn(s)?(Yt(e,h,c,d),xo(e)):Yt(e,h,c,d);qe(e)}function ie(e,t){let s=e._controlledReadableByteStream;s._state==="readable"&&(Ao(e),Ee(e),Kt(e),li(s,t))}function fn(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek(),s=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),l=Object.create(St.prototype);cl(l,e,s),e._byobRequest=l}return e._byobRequest}function qo(e){let t=e._controlledReadableByteStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function Zt(e,t){let s=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(t===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(s.bytesFilled+t>s.byteLength)throw new RangeError("bytesWritten out of range")}s.buffer=s.buffer,Oo(e,t)}function Jt(e,t){let s=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(t.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(s.byteOffset+s.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(s.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(s.bytesFilled+t.byteLength>s.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let c=t.byteLength;s.buffer=t.buffer,Oo(e,c)}function Wo(e,t,s,l,c,d,h){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,Ee(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=d,t._pullAlgorithm=l,t._cancelAlgorithm=c,t._autoAllocateChunkSize=h,t._pendingPullIntos=new Y,e._readableStreamController=t;let _=s();C(S(_),()=>{t._started=!0,qe(t)},E=>{ie(t,E)})}function ul(e,t,s){let l=Object.create(Qe.prototype),c=()=>{},d=()=>S(void 0),h=()=>S(void 0);t.start!==void 0&&(c=()=>t.start(l)),t.pull!==void 0&&(d=()=>t.pull(l)),t.cancel!==void 0&&(h=E=>t.cancel(E));let _=t.autoAllocateChunkSize;if(_===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Wo(e,l,c,d,h,s,_)}function cl(e,t,s){e._associatedReadableByteStreamController=t,e._view=s}function dn(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function wt(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function Do(e){return new Rt(e)}function Lo(e,t){e._reader._readIntoRequests.push(t)}function fl(e,t,s){let c=e._reader._readIntoRequests.shift();s?c._closeSteps(t):c._chunkSteps(t)}function Fo(e){return e._reader._readIntoRequests.length}function hn(e){let t=e._reader;return!(t===void 0||!We(t))}class Rt{constructor(t){if(ye(t,1,"ReadableStreamBYOBReader"),nn(t,"First parameter"),ve(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Oe(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");so(this,t),this._readIntoRequests=new Y}get closed(){return We(this)?this._closedPromise:g(er("closed"))}cancel(t=void 0){return We(this)?this._ownerReadableStream===void 0?g(Ve("cancel")):Kr(this,t):g(er("cancel"))}read(t){if(!We(this))return g(er("read"));if(!ArrayBuffer.isView(t))return g(new TypeError("view must be an array buffer view"));if(t.byteLength===0)return g(new TypeError("view must have non-zero byteLength"));if(t.buffer.byteLength===0)return g(new TypeError("view's buffer must have non-zero byteLength"));if(Vt(t.buffer),this._ownerReadableStream===void 0)return g(Ve("read from"));let s,l,c=T((h,_)=>{s=h,l=_});return zo(this,t,{_chunkSteps:h=>s({value:h,done:!1}),_closeSteps:h=>s({value:h,done:!0}),_errorSteps:h=>l(h)}),c}releaseLock(){if(!We(this))throw er("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");pe(this)}}}Object.defineProperties(Rt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Rt.prototype,r.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function We(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")?!1:e instanceof Rt}function zo(e,t,s){let l=e._ownerReadableStream;l._disturbed=!0,l._state==="errored"?s._errorSteps(l._storedError):il(l._readableStreamController,t,s)}function er(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Tt(e,t){let{highWaterMark:s}=e;if(s===void 0)return t;if(To(s)||s<0)throw new RangeError("Invalid highWaterMark");return s}function tr(e){let{size:t}=e;return t||(()=>1)}function rr(e,t){be(e,t);let s=e?.highWaterMark,l=e?.size;return{highWaterMark:s===void 0?void 0:rn(s),size:l===void 0?void 0:dl(l,`${t} has member 'size' that`)}}function dl(e,t){return oe(e,t),s=>rn(e(s))}function hl(e,t){be(e,t);let s=e?.abort,l=e?.close,c=e?.start,d=e?.type,h=e?.write;return{abort:s===void 0?void 0:ml(s,e,`${t} has member 'abort' that`),close:l===void 0?void 0:pl(l,e,`${t} has member 'close' that`),start:c===void 0?void 0:bl(c,e,`${t} has member 'start' that`),write:h===void 0?void 0:yl(h,e,`${t} has member 'write' that`),type:d}}function ml(e,t,s){return oe(e,s),l=>x(e,t,[l])}function pl(e,t,s){return oe(e,s),()=>x(e,t,[])}function bl(e,t,s){return oe(e,s),l=>z(e,t,[l])}function yl(e,t,s){return oe(e,s),(l,c)=>x(e,t,[l,c])}function $o(e,t){if(!Ke(e))throw new TypeError(`${t} is not a WritableStream.`)}function gl(e){if(typeof e!="object"||e===null)return!1;try{return typeof e.aborted=="boolean"}catch{return!1}}let Sl=typeof AbortController=="function";function _l(){if(Sl)return new AbortController}class Et{constructor(t={},s={}){t===void 0?t=null:ho(t,"First parameter");let l=rr(s,"Second parameter"),c=hl(t,"First parameter");if(jo(this),c.type!==void 0)throw new RangeError("Invalid type is specified");let h=tr(l),_=Tt(l,1);ql(this,c,_,h)}get locked(){if(!Ke(this))throw ar("locked");return Xe(this)}abort(t=void 0){return Ke(this)?Xe(this)?g(new TypeError("Cannot abort a stream that already has a writer")):nr(this,t):g(ar("abort"))}close(){return Ke(this)?Xe(this)?g(new TypeError("Cannot close a stream that already has a writer")):ue(this)?g(new TypeError("Cannot close an already-closing stream")):Uo(this):g(ar("close"))}getWriter(){if(!Ke(this))throw ar("getWriter");return Mo(this)}}Object.defineProperties(Et.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Et.prototype,r.toStringTag,{value:"WritableStream",configurable:!0});function Mo(e){return new Ct(e)}function wl(e,t,s,l,c=1,d=()=>1){let h=Object.create(Et.prototype);jo(h);let _=Object.create(Ze.prototype);return Qo(h,_,e,t,s,l,c,d),h}function jo(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new Y,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function Ke(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")?!1:e instanceof Et}function Xe(e){return e._writer!==void 0}function nr(e,t){var s;if(e._state==="closed"||e._state==="errored")return S(void 0);e._writableStreamController._abortReason=t,(s=e._writableStreamController._abortController)===null||s===void 0||s.abort();let l=e._state;if(l==="closed"||l==="errored")return S(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let c=!1;l==="erroring"&&(c=!0,t=void 0);let d=T((h,_)=>{e._pendingAbortRequest={_promise:void 0,_resolve:h,_reject:_,_reason:t,_wasAlreadyErroring:c}});return e._pendingAbortRequest._promise=d,c||pn(e,t),d}function Uo(e){let t=e._state;if(t==="closed"||t==="errored")return g(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));let s=T((c,d)=>{let h={_resolve:c,_reject:d};e._closeRequest=h}),l=e._writer;return l!==void 0&&e._backpressure&&t==="writable"&&En(l),Wl(e._writableStreamController),s}function Rl(e){return T((s,l)=>{let c={_resolve:s,_reject:l};e._writeRequests.push(c)})}function mn(e,t){if(e._state==="writable"){pn(e,t);return}bn(e)}function pn(e,t){let s=e._writableStreamController;e._state="erroring",e._storedError=t;let l=e._writer;l!==void 0&&Ho(l,t),!Al(e)&&s._started&&bn(e)}function bn(e){e._state="errored",e._writableStreamController[co]();let t=e._storedError;if(e._writeRequests.forEach(c=>{c._reject(t)}),e._writeRequests=new Y,e._pendingAbortRequest===void 0){or(e);return}let s=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,s._wasAlreadyErroring){s._reject(t),or(e);return}let l=e._writableStreamController[uo](s._reason);C(l,()=>{s._resolve(),or(e)},c=>{s._reject(c),or(e)})}function Tl(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function El(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,mn(e,t)}function Cl(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,e._state==="erroring"&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let s=e._writer;s!==void 0&&Jo(s)}function Pl(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),mn(e,t)}function ue(e){return!(e._closeRequest===void 0&&e._inFlightCloseRequest===void 0)}function Al(e){return!(e._inFlightWriteRequest===void 0&&e._inFlightCloseRequest===void 0)}function vl(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function kl(e){e._inFlightWriteRequest=e._writeRequests.shift()}function or(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let t=e._writer;t!==void 0&&Rn(t,e._storedError)}function yn(e,t){let s=e._writer;s!==void 0&&t!==e._backpressure&&(t?jl(s):En(s)),e._backpressure=t}class Ct{constructor(t){if(ye(t,1,"WritableStreamDefaultWriter"),$o(t,"First parameter"),Xe(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;let s=t._state;if(s==="writable")!ue(t)&&t._backpressure?ur(this):ei(this),lr(this);else if(s==="erroring")Tn(this,t._storedError),lr(this);else if(s==="closed")ei(this),$l(this);else{let l=t._storedError;Tn(this,l),Zo(this,l)}}get closed(){return De(this)?this._closedPromise:g(Le("closed"))}get desiredSize(){if(!De(this))throw Le("desiredSize");if(this._ownerWritableStream===void 0)throw Pt("desiredSize");return Ol(this)}get ready(){return De(this)?this._readyPromise:g(Le("ready"))}abort(t=void 0){return De(this)?this._ownerWritableStream===void 0?g(Pt("abort")):Bl(this,t):g(Le("abort"))}close(){if(!De(this))return g(Le("close"));let t=this._ownerWritableStream;return t===void 0?g(Pt("close")):ue(t)?g(new TypeError("Cannot close an already-closing stream")):No(this)}releaseLock(){if(!De(this))throw Le("releaseLock");this._ownerWritableStream!==void 0&&Go(this)}write(t=void 0){return De(this)?this._ownerWritableStream===void 0?g(Pt("write to")):Vo(this,t):g(Le("write"))}}Object.defineProperties(Ct.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ct.prototype,r.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function De(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")?!1:e instanceof Ct}function Bl(e,t){let s=e._ownerWritableStream;return nr(s,t)}function No(e){let t=e._ownerWritableStream;return Uo(t)}function Il(e){let t=e._ownerWritableStream,s=t._state;return ue(t)||s==="closed"?S(void 0):s==="errored"?g(t._storedError):No(e)}function xl(e,t){e._closedPromiseState==="pending"?Rn(e,t):Ml(e,t)}function Ho(e,t){e._readyPromiseState==="pending"?ti(e,t):Ul(e,t)}function Ol(e){let t=e._ownerWritableStream,s=t._state;return s==="errored"||s==="erroring"?null:s==="closed"?0:Ko(t._writableStreamController)}function Go(e){let t=e._ownerWritableStream,s=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Ho(e,s),xl(e,s),t._writer=void 0,e._ownerWritableStream=void 0}function Vo(e,t){let s=e._ownerWritableStream,l=s._writableStreamController,c=Dl(l,t);if(s!==e._ownerWritableStream)return g(Pt("write to"));let d=s._state;if(d==="errored")return g(s._storedError);if(ue(s)||d==="closed")return g(new TypeError("The stream is closing or closed and cannot be written to"));if(d==="erroring")return g(s._storedError);let h=Rl(s);return Ll(l,t,c),h}let Yo={};class Ze{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!gn(this))throw wn("abortReason");return this._abortReason}get signal(){if(!gn(this))throw wn("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(t=void 0){if(!gn(this))throw wn("error");this._controlledWritableStream._state==="writable"&&Xo(this,t)}[uo](t){let s=this._abortAlgorithm(t);return ir(this),s}[co](){Ee(this)}}Object.defineProperties(Ze.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ze.prototype,r.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function gn(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")?!1:e instanceof Ze}function Qo(e,t,s,l,c,d,h,_){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,Ee(t),t._abortReason=void 0,t._abortController=_l(),t._started=!1,t._strategySizeAlgorithm=_,t._strategyHWM=h,t._writeAlgorithm=l,t._closeAlgorithm=c,t._abortAlgorithm=d;let E=_n(t);yn(e,E);let I=s(),O=S(I);C(O,()=>{t._started=!0,sr(t)},q=>{t._started=!0,mn(e,q)})}function ql(e,t,s,l){let c=Object.create(Ze.prototype),d=()=>{},h=()=>S(void 0),_=()=>S(void 0),E=()=>S(void 0);t.start!==void 0&&(d=()=>t.start(c)),t.write!==void 0&&(h=I=>t.write(I,c)),t.close!==void 0&&(_=()=>t.close()),t.abort!==void 0&&(E=I=>t.abort(I)),Qo(e,c,d,h,_,E,s,l)}function ir(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Wl(e){an(e,Yo,0),sr(e)}function Dl(e,t){try{return e._strategySizeAlgorithm(t)}catch(s){return Sn(e,s),1}}function Ko(e){return e._strategyHWM-e._queueTotalSize}function Ll(e,t,s){try{an(e,t,s)}catch(c){Sn(e,c);return}let l=e._controlledWritableStream;if(!ue(l)&&l._state==="writable"){let c=_n(e);yn(l,c)}sr(e)}function sr(e){let t=e._controlledWritableStream;if(!e._started||t._inFlightWriteRequest!==void 0)return;if(t._state==="erroring"){bn(t);return}if(e._queue.length===0)return;let l=ol(e);l===Yo?Fl(e):zl(e,l)}function Sn(e,t){e._controlledWritableStream._state==="writable"&&Xo(e,t)}function Fl(e){let t=e._controlledWritableStream;vl(t),sn(e);let s=e._closeAlgorithm();ir(e),C(s,()=>{Cl(t)},l=>{Pl(t,l)})}function zl(e,t){let s=e._controlledWritableStream;kl(s);let l=e._writeAlgorithm(t);C(l,()=>{Tl(s);let c=s._state;if(sn(e),!ue(s)&&c==="writable"){let d=_n(e);yn(s,d)}sr(e)},c=>{s._state==="writable"&&ir(e),El(s,c)})}function _n(e){return Ko(e)<=0}function Xo(e,t){let s=e._controlledWritableStream;ir(e),pn(s,t)}function ar(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function wn(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function Le(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Pt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function lr(e){e._closedPromise=T((t,s)=>{e._closedPromise_resolve=t,e._closedPromise_reject=s,e._closedPromiseState="pending"})}function Zo(e,t){lr(e),Rn(e,t)}function $l(e){lr(e),Jo(e)}function Rn(e,t){e._closedPromise_reject!==void 0&&(U(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Ml(e,t){Zo(e,t)}function Jo(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function ur(e){e._readyPromise=T((t,s)=>{e._readyPromise_resolve=t,e._readyPromise_reject=s}),e._readyPromiseState="pending"}function Tn(e,t){ur(e),ti(e,t)}function ei(e){ur(e),En(e)}function ti(e,t){e._readyPromise_reject!==void 0&&(U(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function jl(e){ur(e)}function Ul(e,t){Tn(e,t)}function En(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}let ri=typeof DOMException<"u"?DOMException:void 0;function Nl(e){if(!(typeof e=="function"||typeof e=="object"))return!1;try{return new e,!0}catch{return!1}}function Hl(){let e=function(s,l){this.message=s||"",this.name=l||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}let Gl=Nl(ri)?ri:Hl();function ni(e,t,s,l,c,d){let h=Ye(e),_=Mo(t);e._disturbed=!0;let E=!1,I=S(void 0);return T((O,q)=>{let $;if(d!==void 0){if($=()=>{let R=new Gl("Aborted","AbortError"),k=[];l||k.push(()=>t._state==="writable"?nr(t,R):S(void 0)),c||k.push(()=>e._state==="readable"?se(e,R):S(void 0)),H(()=>Promise.all(k.map(D=>D())),!0,R)},d.aborted){$();return}d.addEventListener("abort",$)}function ae(){return T((R,k)=>{function D(Q){Q?R():y(tt(),D,k)}D(!1)})}function tt(){return E?S(!0):y(_._readyPromise,()=>T((R,k)=>{yt(h,{_chunkSteps:D=>{I=y(Vo(_,D),void 0,o),R(!1)},_closeSteps:()=>R(!0),_errorSteps:k})}))}if(ge(e,h._closedPromise,R=>{l?J(!0,R):H(()=>nr(t,R),!0,R)}),ge(t,_._closedPromise,R=>{c?J(!0,R):H(()=>se(e,R),!0,R)}),N(e,h._closedPromise,()=>{s?J():H(()=>Il(_))}),ue(t)||t._state==="closed"){let R=new TypeError("the destination writable stream closed before all data could be piped to it");c?J(!0,R):H(()=>se(e,R),!0,R)}U(ae());function ke(){let R=I;return y(I,()=>R!==I?ke():void 0)}function ge(R,k,D){R._state==="errored"?D(R._storedError):v(k,D)}function N(R,k,D){R._state==="closed"?D():P(k,D)}function H(R,k,D){if(E)return;E=!0,t._state==="writable"&&!ue(t)?P(ke(),Q):Q();function Q(){C(R(),()=>Se(k,D),rt=>Se(!0,rt))}}function J(R,k){E||(E=!0,t._state==="writable"&&!ue(t)?P(ke(),()=>Se(R,k)):Se(R,k))}function Se(R,k){Go(_),pe(h),d!==void 0&&d.removeEventListener("abort",$),R?q(k):O(void 0)}})}class Je{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!cr(this))throw hr("desiredSize");return Cn(this)}close(){if(!cr(this))throw hr("close");if(!et(this))throw new TypeError("The stream is not in a state that permits close");vt(this)}enqueue(t=void 0){if(!cr(this))throw hr("enqueue");if(!et(this))throw new TypeError("The stream is not in a state that permits enqueue");return dr(this,t)}error(t=void 0){if(!cr(this))throw hr("error");Ce(this,t)}[Jr](t){Ee(this);let s=this._cancelAlgorithm(t);return fr(this),s}[en](t){let s=this._controlledReadableStream;if(this._queue.length>0){let l=sn(this);this._closeRequested&&this._queue.length===0?(fr(this),kt(s)):At(this),t._chunkSteps(l)}else bo(s,t),At(this)}}Object.defineProperties(Je.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Je.prototype,r.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function cr(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")?!1:e instanceof Je}function At(e){if(!oi(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let s=e._pullAlgorithm();C(s,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,At(e))},l=>{Ce(e,l)})}function oi(e){let t=e._controlledReadableStream;return!et(e)||!e._started?!1:!!(ve(t)&&Ht(t)>0||Cn(e)>0)}function fr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function vt(e){if(!et(e))return;let t=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(fr(e),kt(t))}function dr(e,t){if(!et(e))return;let s=e._controlledReadableStream;if(ve(s)&&Ht(s)>0)on(s,t,!1);else{let l;try{l=e._strategySizeAlgorithm(t)}catch(c){throw Ce(e,c),c}try{an(e,t,l)}catch(c){throw Ce(e,c),c}}At(e)}function Ce(e,t){let s=e._controlledReadableStream;s._state==="readable"&&(Ee(e),fr(e),li(s,t))}function Cn(e){let t=e._controlledReadableStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function Vl(e){return!oi(e)}function et(e){let t=e._controlledReadableStream._state;return!e._closeRequested&&t==="readable"}function ii(e,t,s,l,c,d,h){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,Ee(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=h,t._strategyHWM=d,t._pullAlgorithm=l,t._cancelAlgorithm=c,e._readableStreamController=t;let _=s();C(S(_),()=>{t._started=!0,At(t)},E=>{Ce(t,E)})}function Yl(e,t,s,l){let c=Object.create(Je.prototype),d=()=>{},h=()=>S(void 0),_=()=>S(void 0);t.start!==void 0&&(d=()=>t.start(c)),t.pull!==void 0&&(h=()=>t.pull(c)),t.cancel!==void 0&&(_=E=>t.cancel(E)),ii(e,c,d,h,_,s,l)}function hr(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function Ql(e,t){return Oe(e._readableStreamController)?Xl(e):Kl(e)}function Kl(e,t){let s=Ye(e),l=!1,c=!1,d=!1,h=!1,_,E,I,O,q,$=T(N=>{q=N});function ae(){return l?(c=!0,S(void 0)):(l=!0,yt(s,{_chunkSteps:H=>{B(()=>{c=!1;let J=H,Se=H;d||dr(I._readableStreamController,J),h||dr(O._readableStreamController,Se),l=!1,c&&ae()})},_closeSteps:()=>{l=!1,d||vt(I._readableStreamController),h||vt(O._readableStreamController),(!d||!h)&&q(void 0)},_errorSteps:()=>{l=!1}}),S(void 0))}function tt(N){if(d=!0,_=N,h){let H=gt([_,E]),J=se(e,H);q(J)}return $}function ke(N){if(h=!0,E=N,d){let H=gt([_,E]),J=se(e,H);q(J)}return $}function ge(){}return I=Pn(ge,ae,tt),O=Pn(ge,ae,ke),v(s._closedPromise,N=>{Ce(I._readableStreamController,N),Ce(O._readableStreamController,N),(!d||!h)&&q(void 0)}),[I,O]}function Xl(e){let t=Ye(e),s=!1,l=!1,c=!1,d=!1,h=!1,_,E,I,O,q,$=T(R=>{q=R});function ae(R){v(R._closedPromise,k=>{R===t&&(ie(I._readableStreamController,k),ie(O._readableStreamController,k),(!d||!h)&&q(void 0))})}function tt(){We(t)&&(pe(t),t=Ye(e),ae(t)),yt(t,{_chunkSteps:k=>{B(()=>{l=!1,c=!1;let D=k,Q=k;if(!d&&!h)try{Q=Po(k)}catch(rt){ie(I._readableStreamController,rt),ie(O._readableStreamController,rt),q(se(e,rt));return}d||Xt(I._readableStreamController,D),h||Xt(O._readableStreamController,Q),s=!1,l?ge():c&&N()})},_closeSteps:()=>{s=!1,d||_t(I._readableStreamController),h||_t(O._readableStreamController),I._readableStreamController._pendingPullIntos.length>0&&Zt(I._readableStreamController,0),O._readableStreamController._pendingPullIntos.length>0&&Zt(O._readableStreamController,0),(!d||!h)&&q(void 0)},_errorSteps:()=>{s=!1}})}function ke(R,k){Te(t)&&(pe(t),t=Do(e),ae(t));let D=k?O:I,Q=k?I:O;zo(t,R,{_chunkSteps:nt=>{B(()=>{l=!1,c=!1;let ot=k?h:d;if(k?d:h)ot||Jt(D._readableStreamController,nt);else{let wi;try{wi=Po(nt)}catch(vn){ie(D._readableStreamController,vn),ie(Q._readableStreamController,vn),q(se(e,vn));return}ot||Jt(D._readableStreamController,nt),Xt(Q._readableStreamController,wi)}s=!1,l?ge():c&&N()})},_closeSteps:nt=>{s=!1;let ot=k?h:d,Rr=k?d:h;ot||_t(D._readableStreamController),Rr||_t(Q._readableStreamController),nt!==void 0&&(ot||Jt(D._readableStreamController,nt),!Rr&&Q._readableStreamController._pendingPullIntos.length>0&&Zt(Q._readableStreamController,0)),(!ot||!Rr)&&q(void 0)},_errorSteps:()=>{s=!1}})}function ge(){if(s)return l=!0,S(void 0);s=!0;let R=fn(I._readableStreamController);return R===null?tt():ke(R._view,!1),S(void 0)}function N(){if(s)return c=!0,S(void 0);s=!0;let R=fn(O._readableStreamController);return R===null?tt():ke(R._view,!0),S(void 0)}function H(R){if(d=!0,_=R,h){let k=gt([_,E]),D=se(e,k);q(D)}return $}function J(R){if(h=!0,E=R,d){let k=gt([_,E]),D=se(e,k);q(D)}return $}function Se(){}return I=ai(Se,ge,H),O=ai(Se,N,J),ae(t),[I,O]}function Zl(e,t){be(e,t);let s=e,l=s?.autoAllocateChunkSize,c=s?.cancel,d=s?.pull,h=s?.start,_=s?.type;return{autoAllocateChunkSize:l===void 0?void 0:po(l,`${t} has member 'autoAllocateChunkSize' that`),cancel:c===void 0?void 0:Jl(c,s,`${t} has member 'cancel' that`),pull:d===void 0?void 0:eu(d,s,`${t} has member 'pull' that`),start:h===void 0?void 0:tu(h,s,`${t} has member 'start' that`),type:_===void 0?void 0:ru(_,`${t} has member 'type' that`)}}function Jl(e,t,s){return oe(e,s),l=>x(e,t,[l])}function eu(e,t,s){return oe(e,s),l=>x(e,t,[l])}function tu(e,t,s){return oe(e,s),l=>z(e,t,[l])}function ru(e,t){if(e=`${e}`,e!=="bytes")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function nu(e,t){be(e,t);let s=e?.mode;return{mode:s===void 0?void 0:ou(s,`${t} has member 'mode' that`)}}function ou(e,t){if(e=`${e}`,e!=="byob")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function iu(e,t){return be(e,t),{preventCancel:!!e?.preventCancel}}function si(e,t){be(e,t);let s=e?.preventAbort,l=e?.preventCancel,c=e?.preventClose,d=e?.signal;return d!==void 0&&su(d,`${t} has member 'signal' that`),{preventAbort:!!s,preventCancel:!!l,preventClose:!!c,signal:d}}function su(e,t){if(!gl(e))throw new TypeError(`${t} is not an AbortSignal.`)}function au(e,t){be(e,t);let s=e?.readable;tn(s,"readable","ReadableWritablePair"),nn(s,`${t} has member 'readable' that`);let l=e?.writable;return tn(l,"writable","ReadableWritablePair"),$o(l,`${t} has member 'writable' that`),{readable:s,writable:l}}class Pe{constructor(t={},s={}){t===void 0?t=null:ho(t,"First parameter");let l=rr(s,"Second parameter"),c=Zl(t,"First parameter");if(An(this),c.type==="bytes"){if(l.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let d=Tt(l,0);ul(this,c,d)}else{let d=tr(l),h=Tt(l,1);Yl(this,c,h,d)}}get locked(){if(!Ae(this))throw Fe("locked");return ve(this)}cancel(t=void 0){return Ae(this)?ve(this)?g(new TypeError("Cannot cancel a stream that already has a reader")):se(this,t):g(Fe("cancel"))}getReader(t=void 0){if(!Ae(this))throw Fe("getReader");return nu(t,"First parameter").mode===void 0?Ye(this):Do(this)}pipeThrough(t,s={}){if(!Ae(this))throw Fe("pipeThrough");ye(t,1,"pipeThrough");let l=au(t,"First parameter"),c=si(s,"Second parameter");if(ve(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Xe(l.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let d=ni(this,l.writable,c.preventClose,c.preventAbort,c.preventCancel,c.signal);return U(d),l.readable}pipeTo(t,s={}){if(!Ae(this))return g(Fe("pipeTo"));if(t===void 0)return g("Parameter 1 is required in 'pipeTo'.");if(!Ke(t))return g(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let l;try{l=si(s,"Second parameter")}catch(c){return g(c)}return ve(this)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Xe(t)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ni(this,t,l.preventClose,l.preventAbort,l.preventCancel,l.signal)}tee(){if(!Ae(this))throw Fe("tee");let t=Ql(this);return gt(t)}values(t=void 0){if(!Ae(this))throw Fe("values");let s=iu(t,"First parameter");return rl(this,s.preventCancel)}}Object.defineProperties(Pe.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Pe.prototype,r.toStringTag,{value:"ReadableStream",configurable:!0}),typeof r.asyncIterator=="symbol"&&Object.defineProperty(Pe.prototype,r.asyncIterator,{value:Pe.prototype.values,writable:!0,configurable:!0});function Pn(e,t,s,l=1,c=()=>1){let d=Object.create(Pe.prototype);An(d);let h=Object.create(Je.prototype);return ii(d,h,e,t,s,l,c),d}function ai(e,t,s){let l=Object.create(Pe.prototype);An(l);let c=Object.create(Qe.prototype);return Wo(l,c,e,t,s,0,void 0),l}function An(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function Ae(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")?!1:e instanceof Pe}function ve(e){return e._reader!==void 0}function se(e,t){if(e._disturbed=!0,e._state==="closed")return S(void 0);if(e._state==="errored")return g(e._storedError);kt(e);let s=e._reader;s!==void 0&&We(s)&&(s._readIntoRequests.forEach(c=>{c._closeSteps(void 0)}),s._readIntoRequests=new Y);let l=e._readableStreamController[Jr](t);return W(l,o)}function kt(e){e._state="closed";let t=e._reader;t!==void 0&&(lo(t),Te(t)&&(t._readRequests.forEach(s=>{s._closeSteps()}),t._readRequests=new Y))}function li(e,t){e._state="errored",e._storedError=t;let s=e._reader;s!==void 0&&(Zr(s,t),Te(s)?(s._readRequests.forEach(l=>{l._errorSteps(t)}),s._readRequests=new Y):(s._readIntoRequests.forEach(l=>{l._errorSteps(t)}),s._readIntoRequests=new Y))}function Fe(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function ui(e,t){be(e,t);let s=e?.highWaterMark;return tn(s,"highWaterMark","QueuingStrategyInit"),{highWaterMark:rn(s)}}let ci=e=>e.byteLength;Object.defineProperty(ci,"name",{value:"size",configurable:!0});class mr{constructor(t){ye(t,1,"ByteLengthQueuingStrategy"),t=ui(t,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!di(this))throw fi("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!di(this))throw fi("size");return ci}}Object.defineProperties(mr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(mr.prototype,r.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function fi(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function di(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")?!1:e instanceof mr}let hi=()=>1;Object.defineProperty(hi,"name",{value:"size",configurable:!0});class pr{constructor(t){ye(t,1,"CountQueuingStrategy"),t=ui(t,"First parameter"),this._countQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!pi(this))throw mi("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!pi(this))throw mi("size");return hi}}Object.defineProperties(pr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(pr.prototype,r.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function mi(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function pi(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")?!1:e instanceof pr}function lu(e,t){be(e,t);let s=e?.flush,l=e?.readableType,c=e?.start,d=e?.transform,h=e?.writableType;return{flush:s===void 0?void 0:uu(s,e,`${t} has member 'flush' that`),readableType:l,start:c===void 0?void 0:cu(c,e,`${t} has member 'start' that`),transform:d===void 0?void 0:fu(d,e,`${t} has member 'transform' that`),writableType:h}}function uu(e,t,s){return oe(e,s),l=>x(e,t,[l])}function cu(e,t,s){return oe(e,s),l=>z(e,t,[l])}function fu(e,t,s){return oe(e,s),(l,c)=>x(e,t,[l,c])}class br{constructor(t={},s={},l={}){t===void 0&&(t=null);let c=rr(s,"Second parameter"),d=rr(l,"Third parameter"),h=lu(t,"First parameter");if(h.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(h.writableType!==void 0)throw new RangeError("Invalid writableType specified");let _=Tt(d,0),E=tr(d),I=Tt(c,1),O=tr(c),q,$=T(ae=>{q=ae});du(this,$,I,O,_,E),mu(this,h),h.start!==void 0?q(h.start(this._transformStreamController)):q(void 0)}get readable(){if(!bi(this))throw _i("readable");return this._readable}get writable(){if(!bi(this))throw _i("writable");return this._writable}}Object.defineProperties(br.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(br.prototype,r.toStringTag,{value:"TransformStream",configurable:!0});function du(e,t,s,l,c,d){function h(){return t}function _($){return yu(e,$)}function E($){return gu(e,$)}function I(){return Su(e)}e._writable=wl(h,_,I,E,s,l);function O(){return _u(e)}function q($){return gr(e,$),S(void 0)}e._readable=Pn(h,O,q,c,d),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,Sr(e,!0),e._transformStreamController=void 0}function bi(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")?!1:e instanceof br}function yr(e,t){Ce(e._readable._readableStreamController,t),gr(e,t)}function gr(e,t){yi(e._transformStreamController),Sn(e._writable._writableStreamController,t),e._backpressure&&Sr(e,!1)}function Sr(e,t){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=T(s=>{e._backpressureChangePromise_resolve=s}),e._backpressure=t}class Bt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!_r(this))throw wr("desiredSize");let t=this._controlledTransformStream._readable._readableStreamController;return Cn(t)}enqueue(t=void 0){if(!_r(this))throw wr("enqueue");gi(this,t)}error(t=void 0){if(!_r(this))throw wr("error");pu(this,t)}terminate(){if(!_r(this))throw wr("terminate");bu(this)}}Object.defineProperties(Bt.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Bt.prototype,r.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function _r(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")?!1:e instanceof Bt}function hu(e,t,s,l){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=s,t._flushAlgorithm=l}function mu(e,t){let s=Object.create(Bt.prototype),l=d=>{try{return gi(s,d),S(void 0)}catch(h){return g(h)}},c=()=>S(void 0);t.transform!==void 0&&(l=d=>t.transform(d,s)),t.flush!==void 0&&(c=()=>t.flush(s)),hu(e,s,l,c)}function yi(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function gi(e,t){let s=e._controlledTransformStream,l=s._readable._readableStreamController;if(!et(l))throw new TypeError("Readable side is not in a state that permits enqueue");try{dr(l,t)}catch(d){throw gr(s,d),s._readable._storedError}Vl(l)!==s._backpressure&&Sr(s,!0)}function pu(e,t){yr(e._controlledTransformStream,t)}function Si(e,t){let s=e._transformAlgorithm(t);return W(s,void 0,l=>{throw yr(e._controlledTransformStream,l),l})}function bu(e){let t=e._controlledTransformStream,s=t._readable._readableStreamController;vt(s);let l=new TypeError("TransformStream terminated");gr(t,l)}function yu(e,t){let s=e._transformStreamController;if(e._backpressure){let l=e._backpressureChangePromise;return W(l,()=>{let c=e._writable;if(c._state==="erroring")throw c._storedError;return Si(s,t)})}return Si(s,t)}function gu(e,t){return yr(e,t),S(void 0)}function Su(e){let t=e._readable,s=e._transformStreamController,l=s._flushAlgorithm();return yi(s),W(l,()=>{if(t._state==="errored")throw t._storedError;vt(t._readableStreamController)},c=>{throw yr(e,c),t._storedError})}function _u(e){return Sr(e,!1),e._backpressureChangePromise}function wr(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function _i(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}n.ByteLengthQueuingStrategy=mr,n.CountQueuingStrategy=pr,n.ReadableByteStreamController=Qe,n.ReadableStream=Pe,n.ReadableStreamBYOBReader=Rt,n.ReadableStreamBYOBRequest=St,n.ReadableStreamDefaultController=Je,n.ReadableStreamDefaultReader=bt,n.TransformStream=br,n.TransformStreamDefaultController=Bt,n.WritableStream=Et,n.WritableStreamDefaultController=Ze,n.WritableStreamDefaultWriter=Ct,Object.defineProperty(n,"__esModule",{value:!0})})});var Ai=A(()=>{if(!globalThis.ReadableStream)try{let n=require("node:process"),{emitWarning:r}=n;try{n.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),n.emitWarning=r}catch(o){throw n.emitWarning=r,o}}catch{Object.assign(globalThis,Pi())}try{let{Blob:n}=require("buffer");n&&!n.prototype.stream&&(n.prototype.stream=function(o){let i=0,a=this;return new ReadableStream({type:"bytes",async pull(u){let p=await a.slice(i,Math.min(a.size,i+65536)).arrayBuffer();i+=p.byteLength,u.enqueue(new Uint8Array(p)),i===a.size&&u.close()}})})}catch{}});async function*kn(n,r=!0){for(let o of n)if("stream"in o)yield*o.stream();else if(ArrayBuffer.isView(o))if(r){let i=o.byteOffset,a=o.byteOffset+o.byteLength;for(;i!==a;){let u=Math.min(a-i,vi),f=o.buffer.slice(i,i+u);i+=f.byteLength,yield new Uint8Array(f)}}else yield o;else{let i=0,a=o;for(;i!==a.size;){let f=await a.slice(i,Math.min(a.size,i+vi)).arrayBuffer();i+=f.byteLength,yield new Uint8Array(f)}}}var td,vi,ki,vu,_e,xt=It(()=>{td=ce(Ai(),1);vi=65536;ki=class Bn{#e=[];#t="";#r=0;#n="transparent";constructor(r=[],o={}){if(typeof r!="object"||r===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof r[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof o!="object"&&typeof o!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");o===null&&(o={});let i=new TextEncoder;for(let u of r){let f;ArrayBuffer.isView(u)?f=new Uint8Array(u.buffer.slice(u.byteOffset,u.byteOffset+u.byteLength)):u instanceof ArrayBuffer?f=new Uint8Array(u.slice(0)):u instanceof Bn?f=u:f=i.encode(`${u}`),this.#r+=ArrayBuffer.isView(f)?f.byteLength:f.size,this.#e.push(f)}this.#n=`${o.endings===void 0?"transparent":o.endings}`;let a=o.type===void 0?"":String(o.type);this.#t=/^[\x20-\x7E]*$/.test(a)?a:""}get size(){return this.#r}get type(){return this.#t}async text(){let r=new TextDecoder,o="";for await(let i of kn(this.#e,!1))o+=r.decode(i,{stream:!0});return o+=r.decode(),o}async arrayBuffer(){let r=new Uint8Array(this.size),o=0;for await(let i of kn(this.#e,!1))r.set(i,o),o+=i.length;return r.buffer}stream(){let r=kn(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(o){let i=await r.next();i.done?o.close():o.enqueue(i.value)},async cancel(){await r.return()}})}slice(r=0,o=this.size,i=""){let{size:a}=this,u=r<0?Math.max(a+r,0):Math.min(r,a),f=o<0?Math.max(a+o,0):Math.min(o,a),p=Math.max(f-u,0),m=this.#e,b=[],w=0;for(let S of m){if(w>=p)break;let g=ArrayBuffer.isView(S)?S.byteLength:S.size;if(u&&g<=u)u-=g,f-=g;else{let y;ArrayBuffer.isView(S)?(y=S.subarray(u,Math.min(g,f)),w+=y.byteLength):(y=S.slice(u,Math.min(g,f)),w+=y.size),f-=g,b.push(y),u=0}}let T=new Bn([],{type:String(i).toLowerCase()});return T.#r=p,T.#e=b,T}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](r){return r&&typeof r=="object"&&typeof r.constructor=="function"&&(typeof r.stream=="function"||typeof r.arrayBuffer=="function")&&/^(Blob|File)$/.test(r[Symbol.toStringTag])}};Object.defineProperties(ki.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});vu=ki,_e=vu});var ku,Bu,it,In=It(()=>{xt();ku=class extends _e{#e=0;#t="";constructor(r,o,i={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(r,i),i===null&&(i={});let a=i.lastModified===void 0?Date.now():Number(i.lastModified);Number.isNaN(a)||(this.#e=a),this.#t=String(o)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](r){return!!r&&r instanceof _e&&/^(File)$/.test(r[Symbol.toStringTag])}},Bu=ku,it=Bu});function xi(n,r=_e){var o=`${Bi()}${Bi()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),i=[],a=`--${o}\r
Content-Disposition: form-data; name="`;return n.forEach((u,f)=>typeof u=="string"?i.push(a+xn(f)+`"\r
\r
${u.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):i.push(a+xn(f)+`"; filename="${xn(u.name,1)}"\r
Content-Type: ${u.type||"application/octet-stream"}\r
\r
`,u,`\r
`)),i.push(`--${o}--`),new r(i,{type:"multipart/form-data; boundary="+o})}var Ot,Iu,xu,Bi,Ou,Ii,xn,ze,$e,Cr=It(()=>{xt();In();({toStringTag:Ot,iterator:Iu,hasInstance:xu}=Symbol),Bi=Math.random,Ou="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),Ii=(n,r,o)=>(n+="",/^(Blob|File)$/.test(r&&r[Ot])?[(o=o!==void 0?o+"":r[Ot]=="File"?r.name:"blob",n),r.name!==o||r[Ot]=="blob"?new it([r],o,r):r]:[n,r+""]),xn=(n,r)=>(r?n:n.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),ze=(n,r,o)=>{if(r.length<o)throw new TypeError(`Failed to execute '${n}' on 'FormData': ${o} arguments required, but only ${r.length} present.`)},$e=class{#e=[];constructor(...r){if(r.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[Ot](){return"FormData"}[Iu](){return this.entries()}static[xu](r){return r&&typeof r=="object"&&r[Ot]==="FormData"&&!Ou.some(o=>typeof r[o]!="function")}append(...r){ze("append",arguments,2),this.#e.push(Ii(...r))}delete(r){ze("delete",arguments,1),r+="",this.#e=this.#e.filter(([o])=>o!==r)}get(r){ze("get",arguments,1),r+="";for(var o=this.#e,i=o.length,a=0;a<i;a++)if(o[a][0]===r)return o[a][1];return null}getAll(r,o){return ze("getAll",arguments,1),o=[],r+="",this.#e.forEach(i=>i[0]===r&&o.push(i[1])),o}has(r){return ze("has",arguments,1),r+="",this.#e.some(o=>o[0]===r)}forEach(r,o){ze("forEach",arguments,1);for(var[i,a]of this)r.call(o,a,i,this)}set(...r){ze("set",arguments,2);var o=[],i=!0;r=Ii(...r),this.#e.forEach(a=>{a[0]===r[0]?i&&(i=!o.push(r)):o.push(a)}),i&&o.push(r),this.#e=o}*entries(){yield*this.#e}*keys(){for(var[r]of this)yield r}*values(){for(var[,r]of this)yield r}}});var Di=A((md,Wi)=>{if(!globalThis.DOMException)try{let{MessageChannel:n}=require("worker_threads"),r=new n().port1,o=new ArrayBuffer;r.postMessage(o,[o,o])}catch(n){n.constructor.name==="DOMException"&&(globalThis.DOMException=n.constructor)}Wi.exports=globalThis.DOMException});var Ar,qu,yd,qn=It(()=>{Ar=require("node:fs"),qu=ce(Di(),1);In();xt();({stat:yd}=Ar.promises)});var Fi={};Ri(Fi,{toFormData:()=>Mu});function $u(n){let r=n.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!r)return;let o=r[2]||r[3]||"",i=o.slice(o.lastIndexOf("\\")+1);return i=i.replace(/%22/g,'"'),i=i.replace(/&#(\d{4});/g,(a,u)=>String.fromCharCode(u)),i}async function Mu(n,r){if(!/multipart/i.test(r))throw new TypeError("Failed to fetch");let o=r.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!o)throw new TypeError("no or bad content-type header, no multipart boundary");let i=new Wn(o[1]||o[2]),a,u,f,p,m,b,w=[],T=new $e,S=v=>{f+=P.decode(v,{stream:!0})},g=v=>{w.push(v)},y=()=>{let v=new it(w,b,{type:m});T.append(p,v)},C=()=>{T.append(p,f)},P=new TextDecoder("utf-8");P.decode(),i.onPartBegin=function(){i.onPartData=S,i.onPartEnd=C,a="",u="",f="",p="",m="",b=null,w.length=0},i.onHeaderField=function(v){a+=P.decode(v,{stream:!0})},i.onHeaderValue=function(v){u+=P.decode(v,{stream:!0})},i.onHeaderEnd=function(){if(u+=P.decode(),a=a.toLowerCase(),a==="content-disposition"){let v=u.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);v&&(p=v[2]||v[3]||""),b=$u(u),b&&(i.onPartData=g,i.onPartEnd=y)}else a==="content-type"&&(m=u);u="",a=""};for await(let v of n)i.write(v);return i.end(),T}var fe,L,Li,Be,vr,kr,Wu,Wt,Du,Lu,Fu,zu,Me,Wn,zi=It(()=>{qn();Cr();fe=0,L={START_BOUNDARY:fe++,HEADER_FIELD_START:fe++,HEADER_FIELD:fe++,HEADER_VALUE_START:fe++,HEADER_VALUE:fe++,HEADER_VALUE_ALMOST_DONE:fe++,HEADERS_ALMOST_DONE:fe++,PART_DATA_START:fe++,PART_DATA:fe++,END:fe++},Li=1,Be={PART_BOUNDARY:Li,LAST_BOUNDARY:Li*=2},vr=10,kr=13,Wu=32,Wt=45,Du=58,Lu=97,Fu=122,zu=n=>n|32,Me=()=>{},Wn=class{constructor(r){this.index=0,this.flags=0,this.onHeaderEnd=Me,this.onHeaderField=Me,this.onHeadersEnd=Me,this.onHeaderValue=Me,this.onPartBegin=Me,this.onPartData=Me,this.onPartEnd=Me,this.boundaryChars={},r=`\r
--`+r;let o=new Uint8Array(r.length);for(let i=0;i<r.length;i++)o[i]=r.charCodeAt(i),this.boundaryChars[o[i]]=!0;this.boundary=o,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=L.START_BOUNDARY}write(r){let o=0,i=r.length,a=this.index,{lookbehind:u,boundary:f,boundaryChars:p,index:m,state:b,flags:w}=this,T=this.boundary.length,S=T-1,g=r.length,y,C,P=B=>{this[B+"Mark"]=o},v=B=>{delete this[B+"Mark"]},W=(B,z,x,ne)=>{(z===void 0||z!==x)&&this[B](ne&&ne.subarray(z,x))},U=(B,z)=>{let x=B+"Mark";x in this&&(z?(W(B,this[x],o,r),delete this[x]):(W(B,this[x],r.length,r),this[x]=0))};for(o=0;o<i;o++)switch(y=r[o],b){case L.START_BOUNDARY:if(m===f.length-2){if(y===Wt)w|=Be.LAST_BOUNDARY;else if(y!==kr)return;m++;break}else if(m-1===f.length-2){if(w&Be.LAST_BOUNDARY&&y===Wt)b=L.END,w=0;else if(!(w&Be.LAST_BOUNDARY)&&y===vr)m=0,W("onPartBegin"),b=L.HEADER_FIELD_START;else return;break}y!==f[m+2]&&(m=-2),y===f[m+2]&&m++;break;case L.HEADER_FIELD_START:b=L.HEADER_FIELD,P("onHeaderField"),m=0;case L.HEADER_FIELD:if(y===kr){v("onHeaderField"),b=L.HEADERS_ALMOST_DONE;break}if(m++,y===Wt)break;if(y===Du){if(m===1)return;U("onHeaderField",!0),b=L.HEADER_VALUE_START;break}if(C=zu(y),C<Lu||C>Fu)return;break;case L.HEADER_VALUE_START:if(y===Wu)break;P("onHeaderValue"),b=L.HEADER_VALUE;case L.HEADER_VALUE:y===kr&&(U("onHeaderValue",!0),W("onHeaderEnd"),b=L.HEADER_VALUE_ALMOST_DONE);break;case L.HEADER_VALUE_ALMOST_DONE:if(y!==vr)return;b=L.HEADER_FIELD_START;break;case L.HEADERS_ALMOST_DONE:if(y!==vr)return;W("onHeadersEnd"),b=L.PART_DATA_START;break;case L.PART_DATA_START:b=L.PART_DATA,P("onPartData");case L.PART_DATA:if(a=m,m===0){for(o+=S;o<g&&!(r[o]in p);)o+=T;o-=S,y=r[o]}if(m<f.length)f[m]===y?(m===0&&U("onPartData",!0),m++):m=0;else if(m===f.length)m++,y===kr?w|=Be.PART_BOUNDARY:y===Wt?w|=Be.LAST_BOUNDARY:m=0;else if(m-1===f.length)if(w&Be.PART_BOUNDARY){if(m=0,y===vr){w&=~Be.PART_BOUNDARY,W("onPartEnd"),W("onPartBegin"),b=L.HEADER_FIELD_START;break}}else w&Be.LAST_BOUNDARY&&y===Wt?(W("onPartEnd"),b=L.END,w=0):m=0;if(m>0)u[m-1]=y;else if(a>0){let B=new Uint8Array(u.buffer,u.byteOffset,u.byteLength);W("onPartData",0,a,B),a=0,P("onPartData"),o--}break;case L.END:break;default:throw new Error(`Unexpected state entered: ${b}`)}U("onHeaderField"),U("onHeaderValue"),U("onPartData"),this.index=m,this.state=b,this.flags=w}end(){if(this.state===L.HEADER_FIELD_START&&this.index===0||this.state===L.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==L.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var ls=A((dh,as)=>{as.exports=ss;ss.sync=Ju;var os=require("fs");function Zu(n,r){var o=r.pathExt!==void 0?r.pathExt:process.env.PATHEXT;if(!o||(o=o.split(";"),o.indexOf("")!==-1))return!0;for(var i=0;i<o.length;i++){var a=o[i].toLowerCase();if(a&&n.substr(-a.length).toLowerCase()===a)return!0}return!1}function is(n,r,o){return!n.isSymbolicLink()&&!n.isFile()?!1:Zu(r,o)}function ss(n,r,o){os.stat(n,function(i,a){o(i,i?!1:is(a,n,r))})}function Ju(n,r){return is(os.statSync(n),n,r)}});var hs=A((hh,ds)=>{ds.exports=cs;cs.sync=ec;var us=require("fs");function cs(n,r,o){us.stat(n,function(i,a){o(i,i?!1:fs(a,r))})}function ec(n,r){return fs(us.statSync(n),r)}function fs(n,r){return n.isFile()&&tc(n,r)}function tc(n,r){var o=n.mode,i=n.uid,a=n.gid,u=r.uid!==void 0?r.uid:process.getuid&&process.getuid(),f=r.gid!==void 0?r.gid:process.getgid&&process.getgid(),p=parseInt("100",8),m=parseInt("010",8),b=parseInt("001",8),w=p|m,T=o&b||o&m&&a===f||o&p&&i===u||o&w&&u===0;return T}});var ps=A((ph,ms)=>{var mh=require("fs"),Lr;process.platform==="win32"||global.TESTING_WINDOWS?Lr=ls():Lr=hs();ms.exports=zn;zn.sync=rc;function zn(n,r,o){if(typeof r=="function"&&(o=r,r={}),!o){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(i,a){zn(n,r||{},function(u,f){u?a(u):i(f)})})}Lr(n,r||{},function(i,a){i&&(i.code==="EACCES"||r&&r.ignoreErrors)&&(i=null,a=!1),o(i,a)})}function rc(n,r){try{return Lr.sync(n,r||{})}catch(o){if(r&&r.ignoreErrors||o.code==="EACCES")return!1;throw o}}});var Rs=A((bh,ws)=>{var lt=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",bs=require("path"),nc=lt?";":":",ys=ps(),gs=n=>Object.assign(new Error(`not found: ${n}`),{code:"ENOENT"}),Ss=(n,r)=>{let o=r.colon||nc,i=n.match(/\//)||lt&&n.match(/\\/)?[""]:[...lt?[process.cwd()]:[],...(r.path||process.env.PATH||"").split(o)],a=lt?r.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",u=lt?a.split(o):[""];return lt&&n.indexOf(".")!==-1&&u[0]!==""&&u.unshift(""),{pathEnv:i,pathExt:u,pathExtExe:a}},_s=(n,r,o)=>{typeof r=="function"&&(o=r,r={}),r||(r={});let{pathEnv:i,pathExt:a,pathExtExe:u}=Ss(n,r),f=[],p=b=>new Promise((w,T)=>{if(b===i.length)return r.all&&f.length?w(f):T(gs(n));let S=i[b],g=/^".*"$/.test(S)?S.slice(1,-1):S,y=bs.join(g,n),C=!g&&/^\.[\\\/]/.test(n)?n.slice(0,2)+y:y;w(m(C,b,0))}),m=(b,w,T)=>new Promise((S,g)=>{if(T===a.length)return S(p(w+1));let y=a[T];ys(b+y,{pathExt:u},(C,P)=>{if(!C&&P)if(r.all)f.push(b+y);else return S(b+y);return S(m(b,w,T+1))})});return o?p(0).then(b=>o(null,b),o):p(0)},oc=(n,r)=>{r=r||{};let{pathEnv:o,pathExt:i,pathExtExe:a}=Ss(n,r),u=[];for(let f=0;f<o.length;f++){let p=o[f],m=/^".*"$/.test(p)?p.slice(1,-1):p,b=bs.join(m,n),w=!m&&/^\.[\\\/]/.test(n)?n.slice(0,2)+b:b;for(let T=0;T<i.length;T++){let S=w+i[T];try{if(ys.sync(S,{pathExt:a}))if(r.all)u.push(S);else return S}catch{}}}if(r.all&&u.length)return u;if(r.nothrow)return null;throw gs(n)};ws.exports=_s;_s.sync=oc});var Mn=A((yh,$n)=>{"use strict";var Ts=(n={})=>{let r=n.env||process.env;return(n.platform||process.platform)!=="win32"?"PATH":Object.keys(r).reverse().find(i=>i.toUpperCase()==="PATH")||"Path"};$n.exports=Ts;$n.exports.default=Ts});var As=A((gh,Ps)=>{"use strict";var Es=require("path"),ic=Rs(),sc=Mn();function Cs(n,r){let o=n.options.env||process.env,i=process.cwd(),a=n.options.cwd!=null,u=a&&process.chdir!==void 0&&!process.chdir.disabled;if(u)try{process.chdir(n.options.cwd)}catch{}let f;try{f=ic.sync(n.command,{path:o[sc({env:o})],pathExt:r?Es.delimiter:void 0})}catch{}finally{u&&process.chdir(i)}return f&&(f=Es.resolve(a?n.options.cwd:"",f)),f}function ac(n){return Cs(n)||Cs(n,!0)}Ps.exports=ac});var vs=A((Sh,Un)=>{"use strict";var jn=/([()\][%!^"`<>&|;, *?])/g;function lc(n){return n=n.replace(jn,"^$1"),n}function uc(n,r){return n=`${n}`,n=n.replace(/(\\*)"/g,'$1$1\\"'),n=n.replace(/(\\*)$/,"$1$1"),n=`"${n}"`,n=n.replace(jn,"^$1"),r&&(n=n.replace(jn,"^$1")),n}Un.exports.command=lc;Un.exports.argument=uc});var Bs=A((_h,ks)=>{"use strict";ks.exports=/^#!(.*)/});var xs=A((wh,Is)=>{"use strict";var cc=Bs();Is.exports=(n="")=>{let r=n.match(cc);if(!r)return null;let[o,i]=r[0].replace(/#! ?/,"").split(" "),a=o.split("/").pop();return a==="env"?i:i?`${a} ${i}`:a}});var qs=A((Rh,Os)=>{"use strict";var Nn=require("fs"),fc=xs();function dc(n){let o=Buffer.alloc(150),i;try{i=Nn.openSync(n,"r"),Nn.readSync(i,o,0,150,0),Nn.closeSync(i)}catch{}return fc(o.toString())}Os.exports=dc});var Fs=A((Th,Ls)=>{"use strict";var hc=require("path"),Ws=As(),Ds=vs(),mc=qs(),pc=process.platform==="win32",bc=/\.(?:com|exe)$/i,yc=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function gc(n){n.file=Ws(n);let r=n.file&&mc(n.file);return r?(n.args.unshift(n.file),n.command=r,Ws(n)):n.file}function Sc(n){if(!pc)return n;let r=gc(n),o=!bc.test(r);if(n.options.forceShell||o){let i=yc.test(r);n.command=hc.normalize(n.command),n.command=Ds.command(n.command),n.args=n.args.map(u=>Ds.argument(u,i));let a=[n.command].concat(n.args).join(" ");n.args=["/d","/s","/c",`"${a}"`],n.command=process.env.comspec||"cmd.exe",n.options.windowsVerbatimArguments=!0}return n}function _c(n,r,o){r&&!Array.isArray(r)&&(o=r,r=null),r=r?r.slice(0):[],o=Object.assign({},o);let i={command:n,args:r,options:o,file:void 0,original:{command:n,args:r}};return o.shell?i:Sc(i)}Ls.exports=_c});var Ms=A((Eh,$s)=>{"use strict";var Hn=process.platform==="win32";function Gn(n,r){return Object.assign(new Error(`${r} ${n.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${r} ${n.command}`,path:n.command,spawnargs:n.args})}function wc(n,r){if(!Hn)return;let o=n.emit;n.emit=function(i,a){if(i==="exit"){let u=zs(a,r,"spawn");if(u)return o.call(n,"error",u)}return o.apply(n,arguments)}}function zs(n,r){return Hn&&n===1&&!r.file?Gn(r.original,"spawn"):null}function Rc(n,r){return Hn&&n===1&&!r.file?Gn(r.original,"spawnSync"):null}$s.exports={hookChildProcess:wc,verifyENOENT:zs,verifyENOENTSync:Rc,notFoundError:Gn}});var Ns=A((Ch,ut)=>{"use strict";var js=require("child_process"),Vn=Fs(),Yn=Ms();function Us(n,r,o){let i=Vn(n,r,o),a=js.spawn(i.command,i.args,i.options);return Yn.hookChildProcess(a,i),a}function Tc(n,r,o){let i=Vn(n,r,o),a=js.spawnSync(i.command,i.args,i.options);return a.error=a.error||Yn.verifyENOENTSync(a.status,i),a}ut.exports=Us;ut.exports.spawn=Us;ut.exports.sync=Tc;ut.exports._parse=Vn;ut.exports._enoent=Yn});var Gs=A((Ph,Hs)=>{"use strict";Hs.exports=n=>{let r=typeof n=="string"?`
`:10,o=typeof n=="string"?"\r":13;return n[n.length-1]===r&&(n=n.slice(0,n.length-1)),n[n.length-1]===o&&(n=n.slice(0,n.length-1)),n}});var Qs=A((Ah,$t)=>{"use strict";var zt=require("path"),Vs=Mn(),Ys=n=>{n={cwd:process.cwd(),path:process.env[Vs()],execPath:process.execPath,...n};let r,o=zt.resolve(n.cwd),i=[];for(;r!==o;)i.push(zt.join(o,"node_modules/.bin")),r=o,o=zt.resolve(o,"..");let a=zt.resolve(n.cwd,n.execPath,"..");return i.push(a),i.concat(n.path).join(zt.delimiter)};$t.exports=Ys;$t.exports.default=Ys;$t.exports.env=n=>{n={env:process.env,...n};let r={...n.env},o=Vs({env:r});return n.path=r[o],r[o]=$t.exports(n),r}});var Xs=A((vh,Qn)=>{"use strict";var Ks=(n,r)=>{for(let o of Reflect.ownKeys(r))Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(r,o));return n};Qn.exports=Ks;Qn.exports.default=Ks});var Js=A((kh,zr)=>{"use strict";var Ec=Xs(),Fr=new WeakMap,Zs=(n,r={})=>{if(typeof n!="function")throw new TypeError("Expected a function");let o,i=0,a=n.displayName||n.name||"<anonymous>",u=function(...f){if(Fr.set(u,++i),i===1)o=n.apply(this,f),n=null;else if(r.throw===!0)throw new Error(`Function \`${a}\` can only be called once`);return o};return Ec(u,n),Fr.set(u,i),u};zr.exports=Zs;zr.exports.default=Zs;zr.exports.callCount=n=>{if(!Fr.has(n))throw new Error(`The given function \`${n.name}\` is not wrapped by the \`onetime\` package`);return Fr.get(n)}});var ea=A($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.SIGNALS=void 0;var Cc=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];$r.SIGNALS=Cc});var Kn=A(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.SIGRTMAX=ct.getRealtimeSignals=void 0;var Pc=function(){let n=ra-ta+1;return Array.from({length:n},Ac)};ct.getRealtimeSignals=Pc;var Ac=function(n,r){return{name:`SIGRT${r+1}`,number:ta+r,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},ta=34,ra=64;ct.SIGRTMAX=ra});var na=A(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.getSignals=void 0;var vc=require("os"),kc=ea(),Bc=Kn(),Ic=function(){let n=(0,Bc.getRealtimeSignals)();return[...kc.SIGNALS,...n].map(xc)};Mr.getSignals=Ic;var xc=function({name:n,number:r,description:o,action:i,forced:a=!1,standard:u}){let{signals:{[n]:f}}=vc.constants,p=f!==void 0;return{name:n,number:p?f:r,description:o,supported:p,action:i,forced:a,standard:u}}});var ia=A(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.signalsByNumber=ft.signalsByName=void 0;var Oc=require("os"),oa=na(),qc=Kn(),Wc=function(){return(0,oa.getSignals)().reduce(Dc,{})},Dc=function(n,{name:r,number:o,description:i,supported:a,action:u,forced:f,standard:p}){return{...n,[r]:{name:r,number:o,description:i,supported:a,action:u,forced:f,standard:p}}},Lc=Wc();ft.signalsByName=Lc;var Fc=function(){let n=(0,oa.getSignals)(),r=qc.SIGRTMAX+1,o=Array.from({length:r},(i,a)=>zc(a,n));return Object.assign({},...o)},zc=function(n,r){let o=$c(n,r);if(o===void 0)return{};let{name:i,description:a,supported:u,action:f,forced:p,standard:m}=o;return{[n]:{name:i,number:n,description:a,supported:u,action:f,forced:p,standard:m}}},$c=function(n,r){let o=r.find(({name:i})=>Oc.constants.signals[i]===n);return o!==void 0?o:r.find(i=>i.number===n)},Mc=Fc();ft.signalsByNumber=Mc});var aa=A((qh,sa)=>{"use strict";var{signalsByName:jc}=ia(),Uc=({timedOut:n,timeout:r,errorCode:o,signal:i,signalDescription:a,exitCode:u,isCanceled:f})=>n?`timed out after ${r} milliseconds`:f?"was canceled":o!==void 0?`failed with ${o}`:i!==void 0?`was killed with ${i} (${a})`:u!==void 0?`failed with exit code ${u}`:"failed",Nc=({stdout:n,stderr:r,all:o,error:i,signal:a,exitCode:u,command:f,escapedCommand:p,timedOut:m,isCanceled:b,killed:w,parsed:{options:{timeout:T}}})=>{u=u===null?void 0:u,a=a===null?void 0:a;let S=a===void 0?void 0:jc[a].description,g=i&&i.code,C=`Command ${Uc({timedOut:m,timeout:T,errorCode:g,signal:a,signalDescription:S,exitCode:u,isCanceled:b})}: ${f}`,P=Object.prototype.toString.call(i)==="[object Error]",v=P?`${C}
${i.message}`:C,W=[v,r,n].filter(Boolean).join(`
`);return P?(i.originalMessage=i.message,i.message=W):i=new Error(W),i.shortMessage=v,i.command=f,i.escapedCommand=p,i.exitCode=u,i.signal=a,i.signalDescription=S,i.stdout=n,i.stderr=r,o!==void 0&&(i.all=o),"bufferedData"in i&&delete i.bufferedData,i.failed=!0,i.timedOut=!!m,i.isCanceled=b,i.killed=w&&!m,i};sa.exports=Nc});var ua=A((Wh,Xn)=>{"use strict";var jr=["stdin","stdout","stderr"],Hc=n=>jr.some(r=>n[r]!==void 0),la=n=>{if(!n)return;let{stdio:r}=n;if(r===void 0)return jr.map(i=>n[i]);if(Hc(n))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${jr.map(i=>`\`${i}\``).join(", ")}`);if(typeof r=="string")return r;if(!Array.isArray(r))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof r}\``);let o=Math.max(r.length,jr.length);return Array.from({length:o},(i,a)=>r[a])};Xn.exports=la;Xn.exports.node=n=>{let r=la(n);return r==="ipc"?"ipc":r===void 0||typeof r=="string"?[r,r,r,"ipc"]:r.includes("ipc")?r:[...r,"ipc"]}});var ca=A((Dh,Ur)=>{Ur.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&Ur.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Ur.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var pa=A((Lh,mt)=>{var F=global.process,He=function(n){return n&&typeof n=="object"&&typeof n.removeListener=="function"&&typeof n.emit=="function"&&typeof n.reallyExit=="function"&&typeof n.listeners=="function"&&typeof n.kill=="function"&&typeof n.pid=="number"&&typeof n.on=="function"};He(F)?(fa=require("assert"),dt=ca(),da=/^win/i.test(F.platform),Mt=require("events"),typeof Mt!="function"&&(Mt=Mt.EventEmitter),F.__signal_exit_emitter__?j=F.__signal_exit_emitter__:(j=F.__signal_exit_emitter__=new Mt,j.count=0,j.emitted={}),j.infinite||(j.setMaxListeners(1/0),j.infinite=!0),mt.exports=function(n,r){if(He(global.process)){fa.equal(typeof n,"function","a callback must be provided for exit handler"),ht===!1&&Zn();var o="exit";r&&r.alwaysLast&&(o="afterexit");var i=function(){j.removeListener(o,n),j.listeners("exit").length===0&&j.listeners("afterexit").length===0&&Nr()};return j.on(o,n),i}},Nr=function(){!ht||!He(global.process)||(ht=!1,dt.forEach(function(r){try{F.removeListener(r,Hr[r])}catch{}}),F.emit=Gr,F.reallyExit=Jn,j.count-=1)},mt.exports.unload=Nr,Ge=function(r,o,i){j.emitted[r]||(j.emitted[r]=!0,j.emit(r,o,i))},Hr={},dt.forEach(function(n){Hr[n]=function(){if(He(global.process)){var o=F.listeners(n);o.length===j.count&&(Nr(),Ge("exit",null,n),Ge("afterexit",null,n),da&&n==="SIGHUP"&&(n="SIGINT"),F.kill(F.pid,n))}}}),mt.exports.signals=function(){return dt},ht=!1,Zn=function(){ht||!He(global.process)||(ht=!0,j.count+=1,dt=dt.filter(function(r){try{return F.on(r,Hr[r]),!0}catch{return!1}}),F.emit=ma,F.reallyExit=ha)},mt.exports.load=Zn,Jn=F.reallyExit,ha=function(r){He(global.process)&&(F.exitCode=r||0,Ge("exit",F.exitCode,null),Ge("afterexit",F.exitCode,null),Jn.call(F,F.exitCode))},Gr=F.emit,ma=function(r,o){if(r==="exit"&&He(global.process)){o!==void 0&&(F.exitCode=o);var i=Gr.apply(this,arguments);return Ge("exit",F.exitCode,null),Ge("afterexit",F.exitCode,null),i}else return Gr.apply(this,arguments)}):mt.exports=function(){};var fa,dt,da,Mt,j,Nr,Ge,Hr,ht,Zn,Jn,ha,Gr,ma});var ya=A((Fh,ba)=>{"use strict";var Gc=require("os"),Vc=pa(),Yc=1e3*5,Qc=(n,r="SIGTERM",o={})=>{let i=n(r);return Kc(n,r,o,i),i},Kc=(n,r,o,i)=>{if(!Xc(r,o,i))return;let a=Jc(o),u=setTimeout(()=>{n("SIGKILL")},a);u.unref&&u.unref()},Xc=(n,{forceKillAfterTimeout:r},o)=>Zc(n)&&r!==!1&&o,Zc=n=>n===Gc.constants.signals.SIGTERM||typeof n=="string"&&n.toUpperCase()==="SIGTERM",Jc=({forceKillAfterTimeout:n=!0})=>{if(n===!0)return Yc;if(!Number.isFinite(n)||n<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${n}\` (${typeof n})`);return n},ef=(n,r)=>{n.kill()&&(r.isCanceled=!0)},tf=(n,r,o)=>{n.kill(r),o(Object.assign(new Error("Timed out"),{timedOut:!0,signal:r}))},rf=(n,{timeout:r,killSignal:o="SIGTERM"},i)=>{if(r===0||r===void 0)return i;let a,u=new Promise((p,m)=>{a=setTimeout(()=>{tf(n,o,m)},r)}),f=i.finally(()=>{clearTimeout(a)});return Promise.race([u,f])},nf=({timeout:n})=>{if(n!==void 0&&(!Number.isFinite(n)||n<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${n}\` (${typeof n})`)},of=async(n,{cleanup:r,detached:o},i)=>{if(!r||o)return i;let a=Vc(()=>{n.kill()});return i.finally(()=>{a()})};ba.exports={spawnedKill:Qc,spawnedCancel:ef,setupTimeout:rf,validateTimeout:nf,setExitHandler:of}});var Sa=A((zh,ga)=>{"use strict";var he=n=>n!==null&&typeof n=="object"&&typeof n.pipe=="function";he.writable=n=>he(n)&&n.writable!==!1&&typeof n._write=="function"&&typeof n._writableState=="object";he.readable=n=>he(n)&&n.readable!==!1&&typeof n._read=="function"&&typeof n._readableState=="object";he.duplex=n=>he.writable(n)&&he.readable(n);he.transform=n=>he.duplex(n)&&typeof n._transform=="function";ga.exports=he});var wa=A(($h,_a)=>{"use strict";var{PassThrough:sf}=require("stream");_a.exports=n=>{n={...n};let{array:r}=n,{encoding:o}=n,i=o==="buffer",a=!1;r?a=!(o||i):o=o||"utf8",i&&(o=null);let u=new sf({objectMode:a});o&&u.setEncoding(o);let f=0,p=[];return u.on("data",m=>{p.push(m),a?f=p.length:f+=m.length}),u.getBufferedValue=()=>r?p:i?Buffer.concat(p,f):p.join(""),u.getBufferedLength=()=>f,u}});var Ra=A((Mh,jt)=>{"use strict";var{constants:af}=require("buffer"),lf=require("stream"),{promisify:uf}=require("util"),cf=wa(),ff=uf(lf.pipeline),Vr=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function eo(n,r){if(!n)throw new Error("Expected a stream");r={maxBuffer:1/0,...r};let{maxBuffer:o}=r,i=cf(r);return await new Promise((a,u)=>{let f=p=>{p&&i.getBufferedLength()<=af.MAX_LENGTH&&(p.bufferedData=i.getBufferedValue()),u(p)};(async()=>{try{await ff(n,i),a()}catch(p){f(p)}})(),i.on("data",()=>{i.getBufferedLength()>o&&f(new Vr)})}),i.getBufferedValue()}jt.exports=eo;jt.exports.buffer=(n,r)=>eo(n,{...r,encoding:"buffer"});jt.exports.array=(n,r)=>eo(n,{...r,array:!0});jt.exports.MaxBufferError=Vr});var Ea=A((jh,Ta)=>{"use strict";var{PassThrough:df}=require("stream");Ta.exports=function(){var n=[],r=new df({objectMode:!0});return r.setMaxListeners(0),r.add=o,r.isEmpty=i,r.on("unpipe",a),Array.prototype.slice.call(arguments).forEach(o),r;function o(u){return Array.isArray(u)?(u.forEach(o),this):(n.push(u),u.once("end",a.bind(null,u)),u.once("error",r.emit.bind(r,"error")),u.pipe(r,{end:!1}),this)}function i(){return n.length==0}function a(u){n=n.filter(function(f){return f!==u}),!n.length&&r.readable&&r.end()}}});var va=A((Uh,Aa)=>{"use strict";var Pa=Sa(),Ca=Ra(),hf=Ea(),mf=(n,r)=>{r===void 0||n.stdin===void 0||(Pa(r)?r.pipe(n.stdin):n.stdin.end(r))},pf=(n,{all:r})=>{if(!r||!n.stdout&&!n.stderr)return;let o=hf();return n.stdout&&o.add(n.stdout),n.stderr&&o.add(n.stderr),o},to=async(n,r)=>{if(n){n.destroy();try{return await r}catch(o){return o.bufferedData}}},ro=(n,{encoding:r,buffer:o,maxBuffer:i})=>{if(!(!n||!o))return r?Ca(n,{encoding:r,maxBuffer:i}):Ca.buffer(n,{maxBuffer:i})},bf=async({stdout:n,stderr:r,all:o},{encoding:i,buffer:a,maxBuffer:u},f)=>{let p=ro(n,{encoding:i,buffer:a,maxBuffer:u}),m=ro(r,{encoding:i,buffer:a,maxBuffer:u}),b=ro(o,{encoding:i,buffer:a,maxBuffer:u*2});try{return await Promise.all([f,p,m,b])}catch(w){return Promise.all([{error:w,signal:w.signal,timedOut:w.timedOut},to(n,p),to(r,m),to(o,b)])}},yf=({input:n})=>{if(Pa(n))throw new TypeError("The `input` option cannot be a stream in sync mode")};Aa.exports={handleInput:mf,makeAllStream:pf,getSpawnedResult:bf,validateInputSync:yf}});var Ba=A((Nh,ka)=>{"use strict";var gf=(async()=>{})().constructor.prototype,Sf=["then","catch","finally"].map(n=>[n,Reflect.getOwnPropertyDescriptor(gf,n)]),_f=(n,r)=>{for(let[o,i]of Sf){let a=typeof r=="function"?(...u)=>Reflect.apply(i.value,r(),u):i.value.bind(r);Reflect.defineProperty(n,o,{...i,value:a})}return n},wf=n=>new Promise((r,o)=>{n.on("exit",(i,a)=>{r({exitCode:i,signal:a})}),n.on("error",i=>{o(i)}),n.stdin&&n.stdin.on("error",i=>{o(i)})});ka.exports={mergePromise:_f,getSpawnedPromise:wf}});var Oa=A((Hh,xa)=>{"use strict";var Ia=(n,r=[])=>Array.isArray(r)?[n,...r]:[n],Rf=/^[\w.-]+$/,Tf=/"/g,Ef=n=>typeof n!="string"||Rf.test(n)?n:`"${n.replace(Tf,'\\"')}"`,Cf=(n,r)=>Ia(n,r).join(" "),Pf=(n,r)=>Ia(n,r).map(o=>Ef(o)).join(" "),Af=/ +/g,vf=n=>{let r=[];for(let o of n.trim().split(Af)){let i=r[r.length-1];i&&i.endsWith("\\")?r[r.length-1]=`${i.slice(0,-1)} ${o}`:r.push(o)}return r};xa.exports={joinCommand:Cf,getEscapedCommand:Pf,parseCommand:vf}});var $a=A((Gh,pt)=>{"use strict";var kf=require("path"),no=require("child_process"),Bf=Ns(),If=Gs(),xf=Qs(),Of=Js(),Yr=aa(),Wa=ua(),{spawnedKill:qf,spawnedCancel:Wf,setupTimeout:Df,validateTimeout:Lf,setExitHandler:Ff}=ya(),{handleInput:zf,getSpawnedResult:$f,makeAllStream:Mf,validateInputSync:jf}=va(),{mergePromise:qa,getSpawnedPromise:Uf}=Ba(),{joinCommand:Da,parseCommand:La,getEscapedCommand:Fa}=Oa(),Nf=1e3*1e3*100,Hf=({env:n,extendEnv:r,preferLocal:o,localDir:i,execPath:a})=>{let u=r?{...process.env,...n}:n;return o?xf.env({env:u,cwd:i,execPath:a}):u},za=(n,r,o={})=>{let i=Bf._parse(n,r,o);return n=i.command,r=i.args,o=i.options,o={maxBuffer:Nf,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:o.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...o},o.env=Hf(o),o.stdio=Wa(o),process.platform==="win32"&&kf.basename(n,".exe")==="cmd"&&r.unshift("/q"),{file:n,args:r,options:o,parsed:i}},Ut=(n,r,o)=>typeof r!="string"&&!Buffer.isBuffer(r)?o===void 0?void 0:"":n.stripFinalNewline?If(r):r,Qr=(n,r,o)=>{let i=za(n,r,o),a=Da(n,r),u=Fa(n,r);Lf(i.options);let f;try{f=no.spawn(i.file,i.args,i.options)}catch(g){let y=new no.ChildProcess,C=Promise.reject(Yr({error:g,stdout:"",stderr:"",all:"",command:a,escapedCommand:u,parsed:i,timedOut:!1,isCanceled:!1,killed:!1}));return qa(y,C)}let p=Uf(f),m=Df(f,i.options,p),b=Ff(f,i.options,m),w={isCanceled:!1};f.kill=qf.bind(null,f.kill.bind(f)),f.cancel=Wf.bind(null,f,w);let S=Of(async()=>{let[{error:g,exitCode:y,signal:C,timedOut:P},v,W,U]=await $f(f,i.options,b),B=Ut(i.options,v),z=Ut(i.options,W),x=Ut(i.options,U);if(g||y!==0||C!==null){let ne=Yr({error:g,exitCode:y,signal:C,stdout:B,stderr:z,all:x,command:a,escapedCommand:u,parsed:i,timedOut:P,isCanceled:w.isCanceled,killed:f.killed});if(!i.options.reject)return ne;throw ne}return{command:a,escapedCommand:u,exitCode:0,stdout:B,stderr:z,all:x,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return zf(f,i.options.input),f.all=Mf(f,i.options),qa(f,S)};pt.exports=Qr;pt.exports.sync=(n,r,o)=>{let i=za(n,r,o),a=Da(n,r),u=Fa(n,r);jf(i.options);let f;try{f=no.spawnSync(i.file,i.args,i.options)}catch(b){throw Yr({error:b,stdout:"",stderr:"",all:"",command:a,escapedCommand:u,parsed:i,timedOut:!1,isCanceled:!1,killed:!1})}let p=Ut(i.options,f.stdout,f.error),m=Ut(i.options,f.stderr,f.error);if(f.error||f.status!==0||f.signal!==null){let b=Yr({stdout:p,stderr:m,error:f.error,signal:f.signal,exitCode:f.status,command:a,escapedCommand:u,parsed:i,timedOut:f.error&&f.error.code==="ETIMEDOUT",isCanceled:!1,killed:f.signal!==null});if(!i.options.reject)return b;throw b}return{command:a,escapedCommand:u,exitCode:0,stdout:p,stderr:m,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};pt.exports.command=(n,r)=>{let[o,...i]=La(n);return Qr(o,i,r)};pt.exports.commandSync=(n,r)=>{let[o,...i]=La(n);return Qr.sync(o,i,r)};pt.exports.node=(n,r,o={})=>{r&&!Array.isArray(r)&&typeof r=="object"&&(o=r,r=[]);let i=Wa.node(o),a=process.execArgv.filter(p=>!p.startsWith("--inspect")),{nodePath:u=process.execPath,nodeOptions:f=a}=o;return Qr(u,[...f,n,...Array.isArray(r)?r:[]],{...o,stdin:void 0,stdout:void 0,stderr:void 0,stdio:i,shell:!1})}});var Qf={};Ri(Qf,{default:()=>Yf});module.exports=Pu(Qf);var me=require("@raycast/api");var Dr=require("@raycast/api");var es=ce(require("node:http"),1),ts=ce(require("node:https"),1),Ue=ce(require("node:zlib"),1),X=ce(require("node:stream"),1),Lt=require("node:buffer");function Au(n){if(!/^data:/i.test(n))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');n=n.replace(/\r?\n/g,"");let r=n.indexOf(",");if(r===-1||r<=4)throw new TypeError("malformed data: URI");let o=n.substring(5,r).split(";"),i="",a=!1,u=o[0]||"text/plain",f=u;for(let w=1;w<o.length;w++)o[w]==="base64"?a=!0:(f+=`;${o[w]}`,o[w].indexOf("charset=")===0&&(i=o[w].substring(8)));!o[0]&&!i.length&&(f+=";charset=US-ASCII",i="US-ASCII");let p=a?"base64":"ascii",m=unescape(n.substring(r+1)),b=Buffer.from(m,p);return b.type=u,b.typeFull=f,b.charset=i,b}var Ei=Au;var ee=ce(require("node:stream"),1),Re=require("node:util"),K=require("node:buffer");xt();Cr();var we=class extends Error{constructor(r,o){super(r),Error.captureStackTrace(this,this.constructor),this.type=o}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var G=class extends we{constructor(r,o,i){super(r,o),i&&(this.code=this.errno=i.code,this.erroredSysCall=i.syscall)}};var Pr=Symbol.toStringTag,On=n=>typeof n=="object"&&typeof n.append=="function"&&typeof n.delete=="function"&&typeof n.get=="function"&&typeof n.getAll=="function"&&typeof n.has=="function"&&typeof n.set=="function"&&typeof n.sort=="function"&&n[Pr]==="URLSearchParams",qt=n=>n&&typeof n=="object"&&typeof n.arrayBuffer=="function"&&typeof n.type=="string"&&typeof n.stream=="function"&&typeof n.constructor=="function"&&/^(Blob|File)$/.test(n[Pr]),Oi=n=>typeof n=="object"&&(n[Pr]==="AbortSignal"||n[Pr]==="EventTarget"),qi=(n,r)=>{let o=new URL(r).hostname,i=new URL(n).hostname;return o===i||o.endsWith(`.${i}`)};var ju=(0,Re.promisify)(ee.default.pipeline),V=Symbol("Body internals"),de=class{constructor(r,{size:o=0}={}){let i=null;r===null?r=null:On(r)?r=K.Buffer.from(r.toString()):qt(r)||K.Buffer.isBuffer(r)||(Re.types.isAnyArrayBuffer(r)?r=K.Buffer.from(r):ArrayBuffer.isView(r)?r=K.Buffer.from(r.buffer,r.byteOffset,r.byteLength):r instanceof ee.default||(r instanceof $e?(r=xi(r),i=r.type.split("=")[1]):r=K.Buffer.from(String(r))));let a=r;K.Buffer.isBuffer(r)?a=ee.default.Readable.from(r):qt(r)&&(a=ee.default.Readable.from(r.stream())),this[V]={body:r,stream:a,boundary:i,disturbed:!1,error:null},this.size=o,r instanceof ee.default&&r.on("error",u=>{let f=u instanceof we?u:new G(`Invalid response body while trying to fetch ${this.url}: ${u.message}`,"system",u);this[V].error=f})}get body(){return this[V].stream}get bodyUsed(){return this[V].disturbed}async arrayBuffer(){let{buffer:r,byteOffset:o,byteLength:i}=await Br(this);return r.slice(o,o+i)}async formData(){let r=this.headers.get("content-type");if(r.startsWith("application/x-www-form-urlencoded")){let i=new $e,a=new URLSearchParams(await this.text());for(let[u,f]of a)i.append(u,f);return i}let{toFormData:o}=await Promise.resolve().then(()=>(zi(),Fi));return o(this.body,r)}async blob(){let r=this.headers&&this.headers.get("content-type")||this[V].body&&this[V].body.type||"",o=await this.arrayBuffer();return new _e([o],{type:r})}async json(){let r=await Br(this);return JSON.parse(r.toString())}async text(){return(await Br(this)).toString()}buffer(){return Br(this)}};de.prototype.buffer=(0,Re.deprecate)(de.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(de.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,Re.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function Br(n){if(n[V].disturbed)throw new TypeError(`body used already for: ${n.url}`);if(n[V].disturbed=!0,n[V].error)throw n[V].error;let{body:r}=n;if(r===null)return K.Buffer.alloc(0);if(!(r instanceof ee.default))return K.Buffer.alloc(0);let o=[],i=0;try{for await(let a of r){if(n.size>0&&i+a.length>n.size){let u=new G(`content size at ${n.url} over limit: ${n.size}`,"max-size");throw r.destroy(u),u}i+=a.length,o.push(a)}}catch(a){throw a instanceof we?a:new G(`Invalid response body while trying to fetch ${n.url}: ${a.message}`,"system",a)}if(r.readableEnded===!0||r._readableState.ended===!0)try{return o.every(a=>typeof a=="string")?K.Buffer.from(o.join("")):K.Buffer.concat(o,i)}catch(a){throw new G(`Could not create Buffer from response body for ${n.url}: ${a.message}`,"system",a)}else throw new G(`Premature close of server response while trying to fetch ${n.url}`)}var st=(n,r)=>{let o,i,{body:a}=n[V];if(n.bodyUsed)throw new Error("cannot clone body after it is used");return a instanceof ee.default&&typeof a.getBoundary!="function"&&(o=new ee.PassThrough({highWaterMark:r}),i=new ee.PassThrough({highWaterMark:r}),a.pipe(o),a.pipe(i),n[V].stream=o,a=i),a},Uu=(0,Re.deprecate)(n=>n.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),Ir=(n,r)=>n===null?null:typeof n=="string"?"text/plain;charset=UTF-8":On(n)?"application/x-www-form-urlencoded;charset=UTF-8":qt(n)?n.type||null:K.Buffer.isBuffer(n)||Re.types.isAnyArrayBuffer(n)||ArrayBuffer.isView(n)?null:n instanceof $e?`multipart/form-data; boundary=${r[V].boundary}`:n&&typeof n.getBoundary=="function"?`multipart/form-data;boundary=${Uu(n)}`:n instanceof ee.default?null:"text/plain;charset=UTF-8",$i=n=>{let{body:r}=n[V];return r===null?0:qt(r)?r.size:K.Buffer.isBuffer(r)?r.length:r&&typeof r.getLengthSync=="function"&&r.hasKnownLength&&r.hasKnownLength()?r.getLengthSync():null},Mi=async(n,{body:r})=>{r===null?n.end():await ju(r,n)};var Dn=require("node:util"),Dt=ce(require("node:http"),1),xr=typeof Dt.default.validateHeaderName=="function"?Dt.default.validateHeaderName:n=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(n)){let r=new TypeError(`Header name must be a valid HTTP token [${n}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}},Ln=typeof Dt.default.validateHeaderValue=="function"?Dt.default.validateHeaderValue:(n,r)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let o=new TypeError(`Invalid character in header content ["${n}"]`);throw Object.defineProperty(o,"code",{value:"ERR_INVALID_CHAR"}),o}},te=class n extends URLSearchParams{constructor(r){let o=[];if(r instanceof n){let i=r.raw();for(let[a,u]of Object.entries(i))o.push(...u.map(f=>[a,f]))}else if(r!=null)if(typeof r=="object"&&!Dn.types.isBoxedPrimitive(r)){let i=r[Symbol.iterator];if(i==null)o.push(...Object.entries(r));else{if(typeof i!="function")throw new TypeError("Header pairs must be iterable");o=[...r].map(a=>{if(typeof a!="object"||Dn.types.isBoxedPrimitive(a))throw new TypeError("Each header pair must be an iterable object");return[...a]}).map(a=>{if(a.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...a]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return o=o.length>0?o.map(([i,a])=>(xr(i),Ln(i,String(a)),[String(i).toLowerCase(),String(a)])):void 0,super(o),new Proxy(this,{get(i,a,u){switch(a){case"append":case"set":return(f,p)=>(xr(f),Ln(f,String(p)),URLSearchParams.prototype[a].call(i,String(f).toLowerCase(),String(p)));case"delete":case"has":case"getAll":return f=>(xr(f),URLSearchParams.prototype[a].call(i,String(f).toLowerCase()));case"keys":return()=>(i.sort(),new Set(URLSearchParams.prototype.keys.call(i)).keys());default:return Reflect.get(i,a,u)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(r){let o=this.getAll(r);if(o.length===0)return null;let i=o.join(", ");return/^content-encoding$/i.test(r)&&(i=i.toLowerCase()),i}forEach(r,o=void 0){for(let i of this.keys())Reflect.apply(r,o,[this.get(i),i,this])}*values(){for(let r of this.keys())yield this.get(r)}*entries(){for(let r of this.keys())yield[r,this.get(r)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((r,o)=>(r[o]=this.getAll(o),r),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((r,o)=>{let i=this.getAll(o);return o==="host"?r[o]=i[0]:r[o]=i.length>1?i:i[0],r},{})}};Object.defineProperties(te.prototype,["get","entries","forEach","values"].reduce((n,r)=>(n[r]={enumerable:!0},n),{}));function ji(n=[]){return new te(n.reduce((r,o,i,a)=>(i%2===0&&r.push(a.slice(i,i+2)),r),[]).filter(([r,o])=>{try{return xr(r),Ln(r,String(o)),!0}catch{return!1}}))}var Nu=new Set([301,302,303,307,308]),Or=n=>Nu.has(n);var le=Symbol("Response internals"),re=class n extends de{constructor(r=null,o={}){super(r,o);let i=o.status!=null?o.status:200,a=new te(o.headers);if(r!==null&&!a.has("Content-Type")){let u=Ir(r,this);u&&a.append("Content-Type",u)}this[le]={type:"default",url:o.url,status:i,statusText:o.statusText||"",headers:a,counter:o.counter,highWaterMark:o.highWaterMark}}get type(){return this[le].type}get url(){return this[le].url||""}get status(){return this[le].status}get ok(){return this[le].status>=200&&this[le].status<300}get redirected(){return this[le].counter>0}get statusText(){return this[le].statusText}get headers(){return this[le].headers}get highWaterMark(){return this[le].highWaterMark}clone(){return new n(st(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(r,o=302){if(!Or(o))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new n(null,{headers:{location:new URL(r).toString()},status:o})}static error(){let r=new n(null,{status:0,statusText:""});return r[le].type="error",r}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(re.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var Xi=require("node:url"),Zi=require("node:util");var Ui=n=>{if(n.search)return n.search;let r=n.href.length-1,o=n.hash||(n.href[r]==="#"?"#":"");return n.href[r-o.length]==="?"?"?":""};var Hi=require("node:net");function Ni(n,r=!1){return n==null||(n=new URL(n),/^(about|blob|data):$/.test(n.protocol))?"no-referrer":(n.username="",n.password="",n.hash="",r&&(n.pathname="",n.search=""),n)}var Gi=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),Vi="strict-origin-when-cross-origin";function Yi(n){if(!Gi.has(n))throw new TypeError(`Invalid referrerPolicy: ${n}`);return n}function Hu(n){if(/^(http|ws)s:$/.test(n.protocol))return!0;let r=n.host.replace(/(^\[)|(]$)/g,""),o=(0,Hi.isIP)(r);return o===4&&/^127\./.test(r)||o===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(r)?!0:/^(.+\.)*localhost$/.test(n.host)?!1:n.protocol==="file:"}function at(n){return/^about:(blank|srcdoc)$/.test(n)||n.protocol==="data:"||/^(blob|filesystem):$/.test(n.protocol)?!0:Hu(n)}function Qi(n,{referrerURLCallback:r,referrerOriginCallback:o}={}){if(n.referrer==="no-referrer"||n.referrerPolicy==="")return null;let i=n.referrerPolicy;if(n.referrer==="about:client")return"no-referrer";let a=n.referrer,u=Ni(a),f=Ni(a,!0);u.toString().length>4096&&(u=f),r&&(u=r(u)),o&&(f=o(f));let p=new URL(n.url);switch(i){case"no-referrer":return"no-referrer";case"origin":return f;case"unsafe-url":return u;case"strict-origin":return at(u)&&!at(p)?"no-referrer":f.toString();case"strict-origin-when-cross-origin":return u.origin===p.origin?u:at(u)&&!at(p)?"no-referrer":f;case"same-origin":return u.origin===p.origin?u:"no-referrer";case"origin-when-cross-origin":return u.origin===p.origin?u:f;case"no-referrer-when-downgrade":return at(u)&&!at(p)?"no-referrer":u;default:throw new TypeError(`Invalid referrerPolicy: ${i}`)}}function Ki(n){let r=(n.get("referrer-policy")||"").split(/[,\s]+/),o="";for(let i of r)i&&Gi.has(i)&&(o=i);return o}var M=Symbol("Request internals"),qr=n=>typeof n=="object"&&typeof n[M]=="object",Gu=(0,Zi.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),je=class n extends de{constructor(r,o={}){let i;if(qr(r)?i=new URL(r.url):(i=new URL(r),r={}),i.username!==""||i.password!=="")throw new TypeError(`${i} is an url with embedded credentails.`);let a=o.method||r.method||"GET";if(a=a.toUpperCase(),"data"in o&&Gu(),(o.body!=null||qr(r)&&r.body!==null)&&(a==="GET"||a==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let u=o.body?o.body:qr(r)&&r.body!==null?st(r):null;super(u,{size:o.size||r.size||0});let f=new te(o.headers||r.headers||{});if(u!==null&&!f.has("Content-Type")){let b=Ir(u,this);b&&f.set("Content-Type",b)}let p=qr(r)?r.signal:null;if("signal"in o&&(p=o.signal),p!=null&&!Oi(p))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let m=o.referrer==null?r.referrer:o.referrer;if(m==="")m="no-referrer";else if(m){let b=new URL(m);m=/^about:(\/\/)?client$/.test(b)?"client":b}else m=void 0;this[M]={method:a,redirect:o.redirect||r.redirect||"follow",headers:f,parsedURL:i,signal:p,referrer:m},this.follow=o.follow===void 0?r.follow===void 0?20:r.follow:o.follow,this.compress=o.compress===void 0?r.compress===void 0?!0:r.compress:o.compress,this.counter=o.counter||r.counter||0,this.agent=o.agent||r.agent,this.highWaterMark=o.highWaterMark||r.highWaterMark||16384,this.insecureHTTPParser=o.insecureHTTPParser||r.insecureHTTPParser||!1,this.referrerPolicy=o.referrerPolicy||r.referrerPolicy||""}get method(){return this[M].method}get url(){return(0,Xi.format)(this[M].parsedURL)}get headers(){return this[M].headers}get redirect(){return this[M].redirect}get signal(){return this[M].signal}get referrer(){if(this[M].referrer==="no-referrer")return"";if(this[M].referrer==="client")return"about:client";if(this[M].referrer)return this[M].referrer.toString()}get referrerPolicy(){return this[M].referrerPolicy}set referrerPolicy(r){this[M].referrerPolicy=Yi(r)}clone(){return new n(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(je.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var Ji=n=>{let{parsedURL:r}=n[M],o=new te(n[M].headers);o.has("Accept")||o.set("Accept","*/*");let i=null;if(n.body===null&&/^(post|put)$/i.test(n.method)&&(i="0"),n.body!==null){let p=$i(n);typeof p=="number"&&!Number.isNaN(p)&&(i=String(p))}i&&o.set("Content-Length",i),n.referrerPolicy===""&&(n.referrerPolicy=Vi),n.referrer&&n.referrer!=="no-referrer"?n[M].referrer=Qi(n):n[M].referrer="no-referrer",n[M].referrer instanceof URL&&o.set("Referer",n.referrer),o.has("User-Agent")||o.set("User-Agent","node-fetch"),n.compress&&!o.has("Accept-Encoding")&&o.set("Accept-Encoding","gzip,deflate,br");let{agent:a}=n;typeof a=="function"&&(a=a(r)),!o.has("Connection")&&!a&&o.set("Connection","close");let u=Ui(r),f={path:r.pathname+u,method:n.method,headers:o[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:n.insecureHTTPParser,agent:a};return{parsedURL:r,options:f}};var Wr=class extends we{constructor(r,o="aborted"){super(r,o)}};Cr();qn();var Vu=new Set(["data:","http:","https:"]);async function Ne(n,r){return new Promise((o,i)=>{let a=new je(n,r),{parsedURL:u,options:f}=Ji(a);if(!Vu.has(u.protocol))throw new TypeError(`node-fetch cannot load ${n}. URL scheme "${u.protocol.replace(/:$/,"")}" is not supported.`);if(u.protocol==="data:"){let y=Ei(a.url),C=new re(y,{headers:{"Content-Type":y.typeFull}});o(C);return}let p=(u.protocol==="https:"?ts.default:es.default).request,{signal:m}=a,b=null,w=()=>{let y=new Wr("The operation was aborted.");i(y),a.body&&a.body instanceof X.default.Readable&&a.body.destroy(y),!(!b||!b.body)&&b.body.emit("error",y)};if(m&&m.aborted){w();return}let T=()=>{w(),g()},S=p(u.toString(),f);m&&m.addEventListener("abort",T);let g=()=>{S.abort(),m&&m.removeEventListener("abort",T)};S.on("error",y=>{i(new G(`request to ${a.url} failed, reason: ${y.message}`,"system",y)),g()}),Yu(S,y=>{b.body.destroy(y)}),process.version<"v14"&&S.on("socket",y=>{let C;y.prependListener("end",()=>{C=y._eventsCount}),y.prependListener("close",P=>{if(b&&C<y._eventsCount&&!P){let v=new Error("Premature close");v.code="ERR_STREAM_PREMATURE_CLOSE",b.body.emit("error",v)}})}),S.on("response",y=>{S.setTimeout(0);let C=ji(y.rawHeaders);if(Or(y.statusCode)){let B=C.get("Location"),z=null;try{z=B===null?null:new URL(B,a.url)}catch{if(a.redirect!=="manual"){i(new G(`uri requested responds with an invalid redirect URL: ${B}`,"invalid-redirect")),g();return}}switch(a.redirect){case"error":i(new G(`uri requested responds with a redirect, redirect mode is set to error: ${a.url}`,"no-redirect")),g();return;case"manual":break;case"follow":{if(z===null)break;if(a.counter>=a.follow){i(new G(`maximum redirect reached at: ${a.url}`,"max-redirect")),g();return}let x={headers:new te(a.headers),follow:a.follow,counter:a.counter+1,agent:a.agent,compress:a.compress,method:a.method,body:st(a),signal:a.signal,size:a.size,referrer:a.referrer,referrerPolicy:a.referrerPolicy};if(!qi(a.url,z))for(let Y of["authorization","www-authenticate","cookie","cookie2"])x.headers.delete(Y);if(y.statusCode!==303&&a.body&&r.body instanceof X.default.Readable){i(new G("Cannot follow redirect with body being a readable stream","unsupported-redirect")),g();return}(y.statusCode===303||(y.statusCode===301||y.statusCode===302)&&a.method==="POST")&&(x.method="GET",x.body=void 0,x.headers.delete("content-length"));let ne=Ki(C);ne&&(x.referrerPolicy=ne),o(Ne(new je(z,x))),g();return}default:return i(new TypeError(`Redirect option '${a.redirect}' is not a valid value of RequestRedirect`))}}m&&y.once("end",()=>{m.removeEventListener("abort",T)});let P=(0,X.pipeline)(y,new X.PassThrough,B=>{B&&i(B)});process.version<"v12.10"&&y.on("aborted",T);let v={url:a.url,status:y.statusCode,statusText:y.statusMessage,headers:C,size:a.size,counter:a.counter,highWaterMark:a.highWaterMark},W=C.get("Content-Encoding");if(!a.compress||a.method==="HEAD"||W===null||y.statusCode===204||y.statusCode===304){b=new re(P,v),o(b);return}let U={flush:Ue.default.Z_SYNC_FLUSH,finishFlush:Ue.default.Z_SYNC_FLUSH};if(W==="gzip"||W==="x-gzip"){P=(0,X.pipeline)(P,Ue.default.createGunzip(U),B=>{B&&i(B)}),b=new re(P,v),o(b);return}if(W==="deflate"||W==="x-deflate"){let B=(0,X.pipeline)(y,new X.PassThrough,z=>{z&&i(z)});B.once("data",z=>{(z[0]&15)===8?P=(0,X.pipeline)(P,Ue.default.createInflate(),x=>{x&&i(x)}):P=(0,X.pipeline)(P,Ue.default.createInflateRaw(),x=>{x&&i(x)}),b=new re(P,v),o(b)}),B.once("end",()=>{b||(b=new re(P,v),o(b))});return}if(W==="br"){P=(0,X.pipeline)(P,Ue.default.createBrotliDecompress(),B=>{B&&i(B)}),b=new re(P,v),o(b);return}b=new re(P,v),o(b)}),Mi(S,a).catch(i)})}function Yu(n,r){let o=Lt.Buffer.from(`0\r
\r
`),i=!1,a=!1,u;n.on("response",f=>{let{headers:p}=f;i=p["transfer-encoding"]==="chunked"&&!p["content-length"]}),n.on("socket",f=>{let p=()=>{if(i&&!a){let m=new Error("Premature close");m.code="ERR_STREAM_PREMATURE_CLOSE",r(m)}};f.prependListener("close",p),n.on("abort",()=>{f.removeListener("close",p)}),f.on("data",m=>{a=Lt.Buffer.compare(m.slice(-5),o)===0,!a&&u&&(a=Lt.Buffer.compare(u.slice(-3),o.slice(0,3))===0&&Lt.Buffer.compare(m.slice(-2),o.slice(3))===0),u=m})})}var Ft=require("@raycast/api"),{accessKey:rs,secretKey:Qu}=(0,Ft.getPreferenceValues)(),Ie=new Ft.OAuth.PKCEClient({redirectMethod:Ft.OAuth.RedirectMethod.Web,providerName:"Unsplash",providerIcon:"unsplash-logo.png",description:"Login to your Unsplash account."}),ns=async()=>{let n=await Ie.authorizationRequest({endpoint:"https://unsplash.com/oauth/authorize",clientId:rs,scope:"public read_user write_likes"}),{authorizationCode:r}=await Ie.authorize(n),o=new URLSearchParams;o.append("client_id",rs),o.append("client_secret",Qu),o.append("redirect_uri",n.redirectURI),o.append("code",r),o.append("grant_type","authorization_code");let i=await Ne("https://unsplash.com/oauth/token",{method:"POST",body:o});if(!i.ok)throw console.error("fetch tokens error:",await i.text()),new Error(i.statusText);await Ie.setTokens(await i.json())};var{accessKey:Ku}=(0,Dr.getPreferenceValues)(),Fn=async(n,r)=>{let o=await Ie.getTokens(),i=o?.accessToken;i?o?.refreshToken&&o?.isExpired()&&(await Ie.setTokens(await Xu(o.refreshToken)),i=(await Ie.getTokens())?.accessToken):(await Dr.LocalStorage.clear(),await ns(),i=(await Ie.getTokens())?.accessToken);let a=n.startsWith("https://api.unsplash.com/")?n:`https://api.unsplash.com${n}`;return await Ne(a,{...r,headers:{Authorization:`Bearer ${i}`,...r?.headers}}).then(async f=>f.json())};async function Xu(n){let r=new URLSearchParams;r.append("client_id",Ku.trim()),r.append("refresh_token",n.trim()),r.append("grant_type","refresh_token");let o=await Ne("https://unsplash.com/oauth/token",{method:"POST",body:r});if(!o.ok)throw console.error("refresh tokens error:",await o.text()),new Error(o.statusText);let i=await o.json();return i.refresh_token=i.refresh_token??n,i}var Z=require("@raycast/api");var Ma=ce(require("node:process"),1),ja=ce($a(),1);async function Ua(n){if(Ma.default.platform!=="darwin")throw new Error("macOS only");let{stdout:r}=await(0,ja.default)("osascript",["-e",n]);return r}var oo=require("fs");var Nt=require("@raycast/api"),Na=require("path"),Ha=require("os");var Qh=(0,Nt.getPreferenceValues)();var Ga=n=>n[0]==="~"?(0,Na.join)((0,Ha.homedir)(),n.slice(1)):n;var Va=async(n,r)=>{if(r==="hud")await(0,Z.showHUD)(n);else return await(0,Z.showToast)(Z.Toast.Style.Animated,n)},Gf=async({url:n,id:r,every:o,useHud:i=!1,isBackground:a=!1})=>{let{downloadSize:u,wallpaperPath:f}=(0,Z.getPreferenceValues)(),p=Ga(f||Z.environment.supportPath),m;a||((0,oo.existsSync)(p)?m=await Va("Downloading and setting wallpaper...",i?"hud":"toast"):m=await Va("The selected path does not exist. Please select a valid path.",i?"hud":"toast"));let b=p.endsWith("/")?`${p}${r}-${u}.jpg`:`${p}/${r}-${u}.jpg`;try{let w=b,T=(0,oo.existsSync)(w)?"":`set cmd to "curl -o " & q_temp_folder & " " & "${n}"
        do shell script cmd`;if(await Ua(`
      set temp_folder to (POSIX path of "${w}")
      set q_temp_folder to quoted form of temp_folder

      ${T}

      set x to alias (POSIX file temp_folder)

      try
        tell application "System Events"
          tell ${o?"every":"current"} desktop
            set picture to (x as text)
            return "ok"
          end tell
        end tell
      on error
        set dialogTitle to "Error Setting Wallpaper"
        set dialogText to "Please make sure you have given Raycast the required permission. To make sure, click the button below and grant Raycast the 'System Events' permission."

        display alert dialogTitle message dialogText buttons {"Cancel", "Open Preferences"} default button 2 as informational
          if button returned of result is "Open Preferences" then
            do shell script "open 'x-apple.systempreferences:com.apple.preference.security?Privacy_Automation'"
          end if

        return "error"
      end try
    `)!=="ok")throw new Error("Error setting wallpaper.");return i?!a&&await(0,Z.showHUD)("Wallpaper set!"):m&&(m.style=Z.Toast.Style.Success,m.title="Wallpaper set!"),!0}catch(w){return console.error(w),m&&(m.style=Z.Toast.Style.Failure,m.title="Something went wrong.",m.message="Try with another image or check your internet connection."),!1}},Ya=Gf;var Qa=["4324303","8647859","298137","2476111","1065976","3430431","1114848","2063295","9389477","932210"],io=async n=>{let{collections:r,includeDefaults:o}=(0,me.getPreferenceValues)(),i=r?.split(", "),a=o==="yes"&&i?[...Qa,...i]:i||Qa,u=await Fn(`/photos/random?orientation=landscape&collections=${encodeURIComponent(a.join(","))}`);if(u.errors){(0,me.showHUD)(u.errors[0]);return}let{urls:f,id:p}=u,m=f?.raw||f?.full||f?.regular;await Ya({url:m,id:String(p),useHud:!0,every:!0,isBackground:me.environment.launchType===me.LaunchType.Background})&&await me.LocalStorage.setItem("last-time",n)};var xe=require("@raycast/api"),Vf=async()=>{let n=new Date,{updateTime:r}=(0,xe.getPreferenceValues)(),o=await xe.LocalStorage.getItem("last-time");if(xe.environment.launchType===xe.LaunchType.Background){if(r!=="none"&&o!==void 0){let i=new Date(o),a=r.split(" ");switch(a[1]){case"minute":i.setMinutes(i.getMinutes()+Number(a[0]));break;case"hour":i.setHours(i.getHours()+Number(a[0]));break;case"day":i.setDate(i.getDate()+Number(a[0]));break}i.setSeconds(i.getSeconds()-10),i<=n&&await io(n.getTime())}}else await io(n.getTime())},Yf=Vf;
/*! Bundled license information:

fetch-blob/index.js:
  (*! fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

formdata-polyfill/esm.min.js:
  (*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

node-domexception/index.js:
  (*! node-domexception. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)
*/
